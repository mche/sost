{"id":"ZfcL","dependencies":[{"name":"/home/guest/Ostanin-dev/static/lib/v-calendar/package.json","includedInParent":true,"mtime":1594720163426},{"name":"vue","loc":{"line":3,"column":16},"parent":"/home/guest/Ostanin-dev/static/lib/v-calendar/src/utils/screens.js","resolved":"/home/guest/Ostanin-dev/static/lib/v-calendar/node_modules/vue/dist/vue.runtime.esm.js"},{"name":"./buildMediaQuery","loc":{"line":4,"column":28},"parent":"/home/guest/Ostanin-dev/static/lib/v-calendar/src/utils/screens.js","resolved":"/home/guest/Ostanin-dev/static/lib/v-calendar/src/utils/buildMediaQuery.js"},{"name":"./defaults/screens.json","loc":{"line":5,"column":27},"parent":"/home/guest/Ostanin-dev/static/lib/v-calendar/src/utils/screens.js","resolved":"/home/guest/Ostanin-dev/static/lib/v-calendar/src/utils/defaults/screens.json"},{"name":"./_","loc":{"line":6,"column":53},"parent":"/home/guest/Ostanin-dev/static/lib/v-calendar/src/utils/screens.js","resolved":"/home/guest/Ostanin-dev/static/lib/v-calendar/src/utils/_.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.setupScreens=h;var e=u(require(\"vue\")),r=u(require(\"./buildMediaQuery\")),s=u(require(\"./defaults/screens.json\")),t=require(\"./_\");function u(e){return e&&e.__esModule?e:{default:e}}let i=!1,a=!1,d=null;function h(u=s.default,h){d&&!h||i||(i=!0,a=!0,d=new e.default({data:()=>({matches:[],queries:[]}),methods:{refreshQueries(){this.queries=(0,t.mapValues)(u,e=>{const s=window.matchMedia((0,r.default)(e));return s.addListener(this.refreshMatches),s}),this.refreshMatches()},refreshMatches(){this.matches=(0,t.toPairs)(this.queries).filter(e=>e[1].matches).map(e=>e[0])}}}),i=!1)}e.default.mixin({beforeCreate(){i||h()},mounted(){a&&d&&(d.refreshQueries(),a=!1)},computed:{$screens:()=>(e,r)=>d.matches.reduce((r,s)=>(0,t.has)(e,s)?e[s]:r,(0,t.isUndefined)(r)?e.default:r)}});"},"sourceMaps":{"js":{"mappings":[{"source":"../utils/screens.js","original":{"line":47,"column":0},"generated":{"line":1,"column":0}},{"source":"../utils/screens.js","original":{"line":47,"column":0},"generated":{"line":1,"column":13}},{"source":"../utils/screens.js","original":{"line":47,"column":0},"generated":{"line":1,"column":20}},{"source":"../utils/screens.js","original":{"line":47,"column":0},"generated":{"line":1,"column":35}},{"source":"../utils/screens.js","original":{"line":47,"column":0},"generated":{"line":1,"column":43}},{"source":"../utils/screens.js","original":{"line":47,"column":0},"generated":{"line":1,"column":56}},{"source":"../utils/screens.js","original":{"line":47,"column":0},"generated":{"line":1,"column":57}},{"source":"../utils/screens.js","original":{"line":47,"column":0},"generated":{"line":1,"column":64}},{"source":"../utils/screens.js","original":{"line":47,"column":0},"generated":{"line":1,"column":68}},{"source":"../utils/screens.js","original":{"line":47,"column":0},"generated":{"line":1,"column":76}},{"source":"../utils/screens.js","original":{"line":47,"column":0},"generated":{"line":1,"column":89}},{"source":"../utils/screens.js","original":{"line":3,"column":0},"generated":{"line":1,"column":91}},{"source":"../utils/screens.js","original":{"line":3,"column":0},"generated":{"line":1,"column":95}},{"source":"../utils/screens.js","original":{"line":3,"column":0},"generated":{"line":1,"column":97}},{"source":"../utils/screens.js","original":{"line":3,"column":0},"generated":{"line":1,"column":99}},{"source":"../utils/screens.js","original":{"line":3,"column":0},"generated":{"line":1,"column":107}},{"source":"../utils/screens.js","original":{"line":4,"column":0},"generated":{"line":1,"column":115}},{"source":"../utils/screens.js","original":{"line":4,"column":0},"generated":{"line":1,"column":117}},{"source":"../utils/screens.js","original":{"line":4,"column":0},"generated":{"line":1,"column":119}},{"source":"../utils/screens.js","original":{"line":4,"column":0},"generated":{"line":1,"column":127}},{"source":"../utils/screens.js","original":{"line":5,"column":0},"generated":{"line":1,"column":149}},{"source":"../utils/screens.js","original":{"line":5,"column":0},"generated":{"line":1,"column":151}},{"source":"../utils/screens.js","original":{"line":5,"column":0},"generated":{"line":1,"column":153}},{"source":"../utils/screens.js","original":{"line":5,"column":0},"generated":{"line":1,"column":161}},{"source":"../utils/screens.js","original":{"line":6,"column":0},"generated":{"line":1,"column":189}},{"source":"../utils/screens.js","original":{"line":6,"column":0},"generated":{"line":1,"column":191}},{"source":"../utils/screens.js","original":{"line":6,"column":0},"generated":{"line":1,"column":199}},{"source":"../utils/screens.js","original":{"line":47,"column":0},"generated":{"line":1,"column":206}},{"source":"../utils/screens.js","original":{"line":47,"column":0},"generated":{"line":1,"column":215}},{"source":"../utils/screens.js","original":{"line":47,"column":0},"generated":{"line":1,"column":217}},{"source":"../utils/screens.js","original":{"line":47,"column":0},"generated":{"line":1,"column":220}},{"source":"../utils/screens.js","original":{"line":47,"column":0},"generated":{"line":1,"column":227}},{"source":"../utils/screens.js","original":{"line":47,"column":0},"generated":{"line":1,"column":230}},{"source":"../utils/screens.js","original":{"line":47,"column":0},"generated":{"line":1,"column":232}},{"source":"../utils/screens.js","original":{"line":47,"column":0},"generated":{"line":1,"column":243}},{"source":"../utils/screens.js","original":{"line":47,"column":0},"generated":{"line":1,"column":245}},{"source":"../utils/screens.js","original":{"line":47,"column":0},"generated":{"line":1,"column":246}},{"source":"../utils/screens.js","original":{"line":47,"column":0},"generated":{"line":1,"column":254}},{"source":"../utils/screens.js","original":{"line":8,"column":0},"generated":{"line":1,"column":257}},{"source":"../utils/screens.js","name":"isSettingUp","original":{"line":8,"column":4},"generated":{"line":1,"column":261}},{"source":"../utils/screens.js","original":{"line":8,"column":18},"generated":{"line":1,"column":264}},{"source":"../utils/screens.js","name":"shouldRefreshQueries","original":{"line":9,"column":4},"generated":{"line":1,"column":266}},{"source":"../utils/screens.js","original":{"line":9,"column":27},"generated":{"line":1,"column":269}},{"source":"../utils/screens.js","name":"screensComp","original":{"line":10,"column":4},"generated":{"line":1,"column":271}},{"source":"../utils/screens.js","original":{"line":10,"column":18},"generated":{"line":1,"column":273}},{"source":"../utils/screens.js","original":{"line":12,"column":7},"generated":{"line":1,"column":278}},{"source":"../utils/screens.js","name":"setupScreens","original":{"line":12,"column":16},"generated":{"line":1,"column":287}},{"source":"../utils/screens.js","name":"screens","original":{"line":12,"column":29},"generated":{"line":1,"column":289}},{"source":"../utils/screens.js","name":"defaultScreens","original":{"line":12,"column":39},"generated":{"line":1,"column":291}},{"source":"../utils/screens.js","original":{"line":12,"column":7},"generated":{"line":1,"column":293}},{"source":"../utils/screens.js","name":"forceSetup","original":{"line":12,"column":55},"generated":{"line":1,"column":301}},{"source":"../utils/screens.js","name":"screensComp","original":{"line":13,"column":7},"generated":{"line":1,"column":304}},{"source":"../utils/screens.js","name":"forceSetup","original":{"line":13,"column":23},"generated":{"line":1,"column":308}},{"source":"../utils/screens.js","name":"isSettingUp","original":{"line":13,"column":38},"generated":{"line":1,"column":311}},{"source":"../utils/screens.js","name":"isSettingUp","original":{"line":16,"column":2},"generated":{"line":1,"column":315}},{"source":"../utils/screens.js","original":{"line":16,"column":16},"generated":{"line":1,"column":318}},{"source":"../utils/screens.js","name":"shouldRefreshQueries","original":{"line":17,"column":2},"generated":{"line":1,"column":320}},{"source":"../utils/screens.js","original":{"line":17,"column":25},"generated":{"line":1,"column":323}},{"source":"../utils/screens.js","name":"screensComp","original":{"line":19,"column":2},"generated":{"line":1,"column":325}},{"source":"../utils/screens.js","original":{"line":19,"column":16},"generated":{"line":1,"column":327}},{"source":"../utils/screens.js","name":"Vue","original":{"line":19,"column":20},"generated":{"line":1,"column":331}},{"source":"../utils/screens.js","original":{"line":19,"column":16},"generated":{"line":1,"column":333}},{"source":"../utils/screens.js","original":{"line":19,"column":24},"generated":{"line":1,"column":341}},{"source":"../utils/screens.js","name":"data","original":{"line":20,"column":4},"generated":{"line":1,"column":342}},{"source":"../utils/screens.js","original":{"line":20,"column":8},"generated":{"line":1,"column":347}},{"source":"../utils/screens.js","original":{"line":21,"column":13},"generated":{"line":1,"column":352}},{"source":"../utils/screens.js","name":"matches","original":{"line":22,"column":8},"generated":{"line":1,"column":353}},{"source":"../utils/screens.js","original":{"line":22,"column":17},"generated":{"line":1,"column":361}},{"source":"../utils/screens.js","name":"queries","original":{"line":23,"column":8},"generated":{"line":1,"column":364}},{"source":"../utils/screens.js","original":{"line":23,"column":17},"generated":{"line":1,"column":372}},{"source":"../utils/screens.js","name":"methods","original":{"line":26,"column":4},"generated":{"line":1,"column":377}},{"source":"../utils/screens.js","original":{"line":26,"column":13},"generated":{"line":1,"column":385}},{"source":"../utils/screens.js","name":"refreshQueries","original":{"line":27,"column":6},"generated":{"line":1,"column":386}},{"source":"../utils/screens.js","name":"queries","original":{"line":28,"column":13},"generated":{"line":1,"column":403}},{"source":"../utils/screens.js","name":"queries","original":{"line":28,"column":13},"generated":{"line":1,"column":408}},{"source":"../utils/screens.js","original":{"line":28,"column":23},"generated":{"line":1,"column":417}},{"source":"../utils/screens.js","name":"screens","original":{"line":28,"column":33},"generated":{"line":1,"column":419}},{"source":"../utils/screens.js","name":"screens","original":{"line":28,"column":33},"generated":{"line":1,"column":421}},{"source":"../utils/screens.js","name":"screens","original":{"line":28,"column":33},"generated":{"line":1,"column":432}},{"source":"../utils/screens.js","name":"v","original":{"line":28,"column":42},"generated":{"line":1,"column":434}},{"source":"../utils/screens.js","name":"query","original":{"line":29,"column":16},"generated":{"line":1,"column":438}},{"source":"../utils/screens.js","name":"query","original":{"line":29,"column":16},"generated":{"line":1,"column":444}},{"source":"../utils/screens.js","name":"window","original":{"line":29,"column":24},"generated":{"line":1,"column":446}},{"source":"../utils/screens.js","name":"matchMedia","original":{"line":29,"column":31},"generated":{"line":1,"column":453}},{"source":"../utils/screens.js","original":{"line":29,"column":42},"generated":{"line":1,"column":465}},{"source":"../utils/screens.js","name":"v","original":{"line":29,"column":58},"generated":{"line":1,"column":467}},{"source":"../utils/screens.js","name":"v","original":{"line":29,"column":58},"generated":{"line":1,"column":469}},{"source":"../utils/screens.js","name":"v","original":{"line":29,"column":58},"generated":{"line":1,"column":478}},{"source":"../utils/screens.js","name":"query","original":{"line":31,"column":17},"generated":{"line":1,"column":482}},{"source":"../utils/screens.js","name":"query","original":{"line":30,"column":10},"generated":{"line":1,"column":489}},{"source":"../utils/screens.js","name":"addListener","original":{"line":30,"column":16},"generated":{"line":1,"column":491}},{"source":"../utils/screens.js","original":{"line":30,"column":28},"generated":{"line":1,"column":503}},{"source":"../utils/screens.js","name":"refreshMatches","original":{"line":30,"column":33},"generated":{"line":1,"column":508}},{"source":"../utils/screens.js","name":"query","original":{"line":31,"column":17},"generated":{"line":1,"column":524}},{"source":"../utils/screens.js","name":"refreshMatches","original":{"line":33,"column":13},"generated":{"line":1,"column":528}},{"source":"../utils/screens.js","name":"refreshMatches","original":{"line":33,"column":13},"generated":{"line":1,"column":533}},{"source":"../utils/screens.js","name":"refreshMatches","original":{"line":35,"column":6},"generated":{"line":1,"column":551}},{"source":"../utils/screens.js","name":"matches","original":{"line":36,"column":13},"generated":{"line":1,"column":568}},{"source":"../utils/screens.js","name":"matches","original":{"line":36,"column":13},"generated":{"line":1,"column":573}},{"source":"../utils/screens.js","original":{"line":36,"column":23},"generated":{"line":1,"column":582}},{"source":"../utils/screens.js","original":{"line":36,"column":31},"generated":{"line":1,"column":584}},{"source":"../utils/screens.js","original":{"line":36,"column":31},"generated":{"line":1,"column":586}},{"source":"../utils/screens.js","original":{"line":36,"column":31},"generated":{"line":1,"column":595}},{"source":"../utils/screens.js","name":"queries","original":{"line":36,"column":36},"generated":{"line":1,"column":600}},{"source":"../utils/screens.js","name":"filter","original":{"line":37,"column":11},"generated":{"line":1,"column":609}},{"source":"../utils/screens.js","name":"p","original":{"line":37,"column":18},"generated":{"line":1,"column":616}},{"source":"../utils/screens.js","name":"p","original":{"line":37,"column":23},"generated":{"line":1,"column":619}},{"source":"../utils/screens.js","original":{"line":37,"column":25},"generated":{"line":1,"column":621}},{"source":"../utils/screens.js","name":"matches","original":{"line":37,"column":28},"generated":{"line":1,"column":624}},{"source":"../utils/screens.js","name":"map","original":{"line":38,"column":11},"generated":{"line":1,"column":633}},{"source":"../utils/screens.js","name":"p","original":{"line":38,"column":15},"generated":{"line":1,"column":637}},{"source":"../utils/screens.js","name":"p","original":{"line":38,"column":20},"generated":{"line":1,"column":640}},{"source":"../utils/screens.js","original":{"line":38,"column":22},"generated":{"line":1,"column":642}},{"source":"../utils/screens.js","name":"isSettingUp","original":{"line":42,"column":2},"generated":{"line":1,"column":650}},{"source":"../utils/screens.js","original":{"line":42,"column":16},"generated":{"line":1,"column":653}},{"source":"../utils/screens.js","name":"Vue","original":{"line":47,"column":0},"generated":{"line":1,"column":656}},{"source":"../utils/screens.js","name":"mixin","original":{"line":47,"column":4},"generated":{"line":1,"column":658}},{"source":"../utils/screens.js","name":"mixin","original":{"line":47,"column":4},"generated":{"line":1,"column":666}},{"source":"../utils/screens.js","original":{"line":47,"column":10},"generated":{"line":1,"column":672}},{"source":"../utils/screens.js","name":"beforeCreate","original":{"line":48,"column":2},"generated":{"line":1,"column":673}},{"source":"../utils/screens.js","name":"isSettingUp","original":{"line":49,"column":9},"generated":{"line":1,"column":688}},{"source":"../utils/screens.js","name":"setupScreens","original":{"line":50,"column":6},"generated":{"line":1,"column":691}},{"source":"../utils/screens.js","name":"mounted","original":{"line":53,"column":2},"generated":{"line":1,"column":696}},{"source":"../utils/screens.js","name":"shouldRefreshQueries","original":{"line":54,"column":8},"generated":{"line":1,"column":706}},{"source":"../utils/screens.js","name":"screensComp","original":{"line":54,"column":32},"generated":{"line":1,"column":709}},{"source":"../utils/screens.js","name":"screensComp","original":{"line":55,"column":6},"generated":{"line":1,"column":713}},{"source":"../utils/screens.js","name":"refreshQueries","original":{"line":55,"column":18},"generated":{"line":1,"column":715}},{"source":"../utils/screens.js","name":"shouldRefreshQueries","original":{"line":56,"column":6},"generated":{"line":1,"column":732}},{"source":"../utils/screens.js","original":{"line":56,"column":29},"generated":{"line":1,"column":735}},{"source":"../utils/screens.js","name":"computed","original":{"line":59,"column":2},"generated":{"line":1,"column":739}},{"source":"../utils/screens.js","original":{"line":59,"column":12},"generated":{"line":1,"column":748}},{"source":"../utils/screens.js","name":"$screens","original":{"line":60,"column":4},"generated":{"line":1,"column":749}},{"source":"../utils/screens.js","original":{"line":60,"column":12},"generated":{"line":1,"column":758}},{"source":"../utils/screens.js","original":{"line":61,"column":13},"generated":{"line":1,"column":762}},{"source":"../utils/screens.js","name":"config","original":{"line":61,"column":14},"generated":{"line":1,"column":763}},{"source":"../utils/screens.js","name":"def","original":{"line":61,"column":22},"generated":{"line":1,"column":765}},{"source":"../utils/screens.js","name":"screensComp","original":{"line":62,"column":8},"generated":{"line":1,"column":769}},{"source":"../utils/screens.js","name":"matches","original":{"line":62,"column":20},"generated":{"line":1,"column":771}},{"source":"../utils/screens.js","name":"reduce","original":{"line":62,"column":28},"generated":{"line":1,"column":779}},{"source":"../utils/screens.js","original":{"line":63,"column":10},"generated":{"line":1,"column":786}},{"source":"../utils/screens.js","name":"prev","original":{"line":63,"column":11},"generated":{"line":1,"column":787}},{"source":"../utils/screens.js","name":"curr","original":{"line":63,"column":17},"generated":{"line":1,"column":789}},{"source":"../utils/screens.js","original":{"line":63,"column":27},"generated":{"line":1,"column":794}},{"source":"../utils/screens.js","name":"config","original":{"line":63,"column":31},"generated":{"line":1,"column":796}},{"source":"../utils/screens.js","name":"config","original":{"line":63,"column":31},"generated":{"line":1,"column":798}},{"source":"../utils/screens.js","name":"config","original":{"line":63,"column":31},"generated":{"line":1,"column":803}},{"source":"../utils/screens.js","name":"curr","original":{"line":63,"column":39},"generated":{"line":1,"column":805}},{"source":"../utils/screens.js","name":"config","original":{"line":63,"column":47},"generated":{"line":1,"column":808}},{"source":"../utils/screens.js","name":"curr","original":{"line":63,"column":54},"generated":{"line":1,"column":810}},{"source":"../utils/screens.js","name":"prev","original":{"line":63,"column":62},"generated":{"line":1,"column":813}},{"source":"../utils/screens.js","original":{"line":64,"column":10},"generated":{"line":1,"column":816}},{"source":"../utils/screens.js","name":"def","original":{"line":64,"column":22},"generated":{"line":1,"column":818}},{"source":"../utils/screens.js","name":"def","original":{"line":64,"column":22},"generated":{"line":1,"column":820}},{"source":"../utils/screens.js","name":"def","original":{"line":64,"column":22},"generated":{"line":1,"column":833}},{"source":"../utils/screens.js","name":"config","original":{"line":64,"column":29},"generated":{"line":1,"column":836}},{"source":"../utils/screens.js","name":"default","original":{"line":64,"column":36},"generated":{"line":1,"column":838}},{"source":"../utils/screens.js","name":"def","original":{"line":64,"column":46},"generated":{"line":1,"column":846}}],"sources":{"../utils/screens.js":"// Vue won't get included in bundle as it is externalized\n// https://cli.vuejs.org/guide/build-targets.html#library\nimport Vue from 'vue';\nimport buildMediaQuery from './buildMediaQuery';\nimport defaultScreens from './defaults/screens.json';\nimport { isUndefined, mapValues, toPairs, has } from './_';\n\nlet isSettingUp = false;\nlet shouldRefreshQueries = false;\nlet screensComp = null;\n\nexport function setupScreens(screens = defaultScreens, forceSetup) {\n  if ((screensComp && !forceSetup) || isSettingUp) {\n    return;\n  }\n  isSettingUp = true;\n  shouldRefreshQueries = true;\n  // Use a private Vue component to store reactive screen matches\n  screensComp = new Vue({\n    data() {\n      return {\n        matches: [],\n        queries: [],\n      };\n    },\n    methods: {\n      refreshQueries() {\n        this.queries = mapValues(screens, v => {\n          const query = window.matchMedia(buildMediaQuery(v));\n          query.addListener(this.refreshMatches);\n          return query;\n        });\n        this.refreshMatches();\n      },\n      refreshMatches() {\n        this.matches = toPairs(this.queries)\n          .filter(p => p[1].matches)\n          .map(p => p[0]);\n      },\n    },\n  });\n  isSettingUp = false;\n}\n\n// Global mixin that provides responsive '$screens' utility method\n// that refreshes any time the screen matches update\nVue.mixin({\n  beforeCreate() {\n    if (!isSettingUp) {\n      setupScreens();\n    }\n  },\n  mounted() {\n    if (shouldRefreshQueries && screensComp) {\n      screensComp.refreshQueries();\n      shouldRefreshQueries = false;\n    }\n  },\n  computed: {\n    $screens() {\n      return (config, def) =>\n        screensComp.matches.reduce(\n          (prev, curr) => (has(config, curr) ? config[curr] : prev),\n          isUndefined(def) ? config.default : def,\n        );\n    },\n  },\n});\n"},"lineCount":null}},"error":null,"hash":"a96af79d87fe2b537acaf3d04bec607f","cacheData":{"env":{}}}