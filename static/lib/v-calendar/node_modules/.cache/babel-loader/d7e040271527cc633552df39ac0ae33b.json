{"remainingRequest":"/home/guest/Ostanin-dev/static/lib/v-calendar/node_modules/thread-loader/dist/cjs.js!/home/guest/Ostanin-dev/static/lib/v-calendar/node_modules/babel-loader/lib/index.js!/home/guest/Ostanin-dev/static/lib/v-calendar/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/guest/Ostanin-dev/static/lib/v-calendar/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/guest/Ostanin-dev/static/lib/v-calendar/src/components/Popover.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/guest/Ostanin-dev/static/lib/v-calendar/src/components/Popover.vue","mtime":1592351795000},{"path":"/home/guest/Ostanin-dev/static/lib/v-calendar/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/guest/Ostanin-dev/static/lib/v-calendar/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/guest/Ostanin-dev/static/lib/v-calendar/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/guest/Ostanin-dev/static/lib/v-calendar/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/guest/Ostanin-dev/static/lib/v-calendar/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import Popper from 'popper.js';\nimport { popoversMixin } from '../utils/popovers';\nimport { on, off, elementContains } from '../utils/helpers';\nimport { addTapOrClickHandler } from '../utils/touch';\nimport { isFunction } from '../utils/_';\nexport default {\n  name: 'Popover',\n\n  render(h) {\n    return h('div', {\n      class: ['vc-popover-content-wrapper', {\n        'is-interactive': this.isInteractive\n      }],\n      ref: 'popover'\n    }, [h('transition', {\n      props: {\n        name: this.transition,\n        appear: true\n      },\n      on: {\n        beforeEnter: this.beforeEnter,\n        afterEnter: this.afterEnter,\n        beforeLeave: this.beforeLeave,\n        afterLeave: this.afterLeave\n      }\n    }, [this.isVisible && h('div', {\n      attrs: {\n        tabindex: -1\n      },\n      class: ['vc-popover-content', `direction-${this.direction}`, this.contentClass]\n    }, [this.content, h('span', {\n      class: ['vc-popover-caret', `direction-${this.direction}`, `align-${this.alignment}`]\n    })])])]);\n  },\n\n  mixins: [popoversMixin],\n  props: {\n    id: {\n      type: String,\n      required: true\n    },\n    transition: {\n      type: String,\n      default: 'slide-fade'\n    },\n    contentClass: String\n  },\n\n  data() {\n    return {\n      ref: null,\n      args: null,\n      visibility: '',\n      placement: 'bottom',\n      positionFixed: false,\n      modifiers: {},\n      isInteractive: false,\n      delay: 10,\n      popperEl: null\n    };\n  },\n\n  computed: {\n    content() {\n      return isFunction(this.$scopedSlots.default) && this.$scopedSlots.default({\n        direction: this.direction,\n        alignment: this.alignment,\n        args: this.args,\n        updateLayout: this.scheduleUpdate,\n        hide: opts => this.hide(opts)\n      }) || this.$slots.default;\n    },\n\n    popperOptions() {\n      return {\n        placement: this.placement,\n        positionFixed: this.positionFixed,\n        modifiers: {\n          hide: {\n            enabled: false\n          },\n          preventOverflow: {\n            enabled: false\n          },\n          ...this.modifiers\n        },\n        onCreate: this.onPopperUpdate,\n        onUpdate: this.onPopperUpdate\n      };\n    },\n\n    isVisible() {\n      return !!(this.ref && (this.$scopedSlots.default || this.$slots.default) && this.visibility !== 'hidden');\n    },\n\n    direction() {\n      return this.placement && this.placement.split('-')[0] || 'bottom';\n    },\n\n    alignment() {\n      const isLeftRight = this.direction === 'left' || this.direction === 'right';\n      let alignment = this.placement.split('-');\n      alignment = alignment.length > 1 ? alignment[1] : '';\n\n      if (['start', 'top', 'left'].includes(alignment)) {\n        return isLeftRight ? 'top' : 'left';\n      }\n\n      if (['end', 'bottom', 'right'].includes(alignment)) {\n        return isLeftRight ? 'bottom' : 'right';\n      }\n\n      return isLeftRight ? 'middle' : 'center';\n    },\n\n    state() {\n      return this.$popovers[this.id];\n    }\n\n  },\n  watch: {\n    state: {\n      immediate: true,\n\n      handler(val) {\n        if (val) {\n          this.ref = val.ref;\n          this.args = val.args;\n          this.visibility = val.visibility;\n          this.placement = val.placement;\n          this.positionFixed = val.positionFixed;\n          this.modifiers = val.modifiers;\n          this.isInteractive = val.isInteractive;\n          this.setupPopper();\n        }\n      }\n\n    }\n  },\n\n  mounted() {\n    this.popoverEl = this.$refs.popover;\n    this.addEvents();\n  },\n\n  beforeDestroy() {\n    this.removeEvents();\n  },\n\n  methods: {\n    addEvents() {\n      on(this.popoverEl, 'click', this.onClick);\n      on(this.popoverEl, 'mouseover', this.onMouseOver);\n      on(this.popoverEl, 'mouseleave', this.onMouseLeave);\n      on(this.popoverEl, 'focusin', this.onFocusIn);\n      on(this.popoverEl, 'focusout', this.onFocusOut);\n      on(document, 'keydown', this.onDocumentKeydown);\n      this.removeDocHandler = addTapOrClickHandler(document, this.onDocumentClick);\n    },\n\n    removeEvents() {\n      off(this.popoverEl, 'click', this.onClick);\n      off(this.popoverEl, 'mouseover', this.onMouseOver);\n      off(this.popoverEl, 'mouseleave', this.onMouseLeave);\n      off(this.popoverEl, 'focusin', this.onFocusIn);\n      off(this.popoverEl, 'focusout', this.onFocusOut);\n      off(document, 'keydown', this.onDocumentKeydown);\n      if (this.removeDocHandler) this.removeDocHandler();\n    },\n\n    onClick(e) {\n      e.stopPropagation();\n    },\n\n    onMouseOver() {\n      if (this.isInteractive && this.visibility === 'hover') {\n        this.show();\n      }\n    },\n\n    onMouseLeave() {\n      if (this.isInteractive && this.visibility === 'hover') {\n        this.hide();\n      }\n    },\n\n    onFocusIn() {\n      if (this.isInteractive && this.visibility === 'focus') {\n        this.show();\n      }\n    },\n\n    onFocusOut(e) {\n      if (this.isInteractive && this.visibility === 'focus' && e.relatedTarget && !elementContains(this.popoverEl, e.relatedTarget)) {\n        this.hide();\n      }\n    },\n\n    onDocumentClick(e) {\n      if (!this.$refs.popover || !this.ref) {\n        return;\n      } // Don't hide if target element is contained within popover ref or content\n\n\n      if (elementContains(this.popoverEl, e.target) || elementContains(this.ref, e.target)) {\n        return;\n      } // Hide the popover\n\n\n      this.hide();\n    },\n\n    onDocumentKeydown(e) {\n      if (e.key === 'Esc' || e.key === 'Escape') {\n        this.hide();\n      }\n    },\n\n    show() {\n      this.$showPopover({\n        id: this.id,\n        ref: this.ref,\n        delay: 0\n      });\n    },\n\n    hide(opts) {\n      this.$hidePopover({ ...opts,\n        id: this.id,\n        ref: this.ref\n      });\n    },\n\n    onUpdate({\n      args\n    }) {\n      this.args = args;\n      this.setupPopper();\n    },\n\n    setupPopper() {\n      this.$nextTick(() => {\n        if (!this.ref || !this.$refs.popover) return;\n\n        if (this.popper && this.popper.reference !== this.ref) {\n          this.popper.destroy();\n          this.popper = null;\n        }\n\n        if (!this.popper) {\n          this.popper = new Popper(this.ref, this.popoverEl, this.popperOptions);\n        } else {\n          this.popper.scheduleUpdate();\n        }\n      });\n    },\n\n    onPopperUpdate(data) {\n      this.placement = data.placement;\n    },\n\n    scheduleUpdate() {\n      if (this.popper) {\n        this.popper.scheduleUpdate();\n      }\n    },\n\n    beforeEnter(e) {\n      this.$emit('beforeShow', e);\n    },\n\n    afterEnter(e) {\n      this.$emit('afterShow', e);\n    },\n\n    beforeLeave(e) {\n      this.$emit('beforeHide', e);\n    },\n\n    afterLeave(e) {\n      this.destroyPopper();\n      this.$emit('afterHide', e);\n    },\n\n    destroyPopper() {\n      if (this.popper) {\n        this.popper.destroy();\n        this.popper = null;\n      }\n    }\n\n  }\n};",{"version":3,"sources":["Popover.vue"],"names":[],"mappings":"AACA,OAAA,MAAA,MAAA,WAAA;AACA,SAAA,aAAA,QAAA,mBAAA;AACA,SAAA,EAAA,EAAA,GAAA,EAAA,eAAA,QAAA,kBAAA;AACA,SAAA,oBAAA,QAAA,gBAAA;AACA,SAAA,UAAA,QAAA,YAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,SADA;;AAEA,EAAA,MAAA,CAAA,CAAA,EAAA;AACA,WAAA,CAAA,CACA,KADA,EAEA;AACA,MAAA,KAAA,EAAA,CACA,4BADA,EAEA;AAAA,0BAAA,KAAA;AAAA,OAFA,CADA;AAKA,MAAA,GAAA,EAAA;AALA,KAFA,EASA,CACA,CAAA,CACA,YADA,EAEA;AACA,MAAA,KAAA,EAAA;AACA,QAAA,IAAA,EAAA,KAAA,UADA;AAEA,QAAA,MAAA,EAAA;AAFA,OADA;AAKA,MAAA,EAAA,EAAA;AACA,QAAA,WAAA,EAAA,KAAA,WADA;AAEA,QAAA,UAAA,EAAA,KAAA,UAFA;AAGA,QAAA,WAAA,EAAA,KAAA,WAHA;AAIA,QAAA,UAAA,EAAA,KAAA;AAJA;AALA,KAFA,EAcA,CACA,KAAA,SAAA,IACA,CAAA,CACA,KADA,EAEA;AACA,MAAA,KAAA,EAAA;AACA,QAAA,QAAA,EAAA,CAAA;AADA,OADA;AAIA,MAAA,KAAA,EAAA,CACA,oBADA,EAEA,aAAA,KAAA,SAAA,EAFA,EAGA,KAAA,YAHA;AAJA,KAFA,EAYA,CACA,KAAA,OADA,EAEA,CAAA,CAAA,MAAA,EAAA;AACA,MAAA,KAAA,EAAA,CACA,kBADA,EAEA,aAAA,KAAA,SAAA,EAFA,EAGA,SAAA,KAAA,SAAA,EAHA;AADA,KAAA,CAFA,CAZA,CAFA,CAdA,CADA,CATA,CAAA;AAqDA,GAxDA;;AAyDA,EAAA,MAAA,EAAA,CAAA,aAAA,CAzDA;AA0DA,EAAA,KAAA,EAAA;AACA,IAAA,EAAA,EAAA;AAAA,MAAA,IAAA,EAAA,MAAA;AAAA,MAAA,QAAA,EAAA;AAAA,KADA;AAEA,IAAA,UAAA,EAAA;AAAA,MAAA,IAAA,EAAA,MAAA;AAAA,MAAA,OAAA,EAAA;AAAA,KAFA;AAGA,IAAA,YAAA,EAAA;AAHA,GA1DA;;AA+DA,EAAA,IAAA,GAAA;AACA,WAAA;AACA,MAAA,GAAA,EAAA,IADA;AAEA,MAAA,IAAA,EAAA,IAFA;AAGA,MAAA,UAAA,EAAA,EAHA;AAIA,MAAA,SAAA,EAAA,QAJA;AAKA,MAAA,aAAA,EAAA,KALA;AAMA,MAAA,SAAA,EAAA,EANA;AAOA,MAAA,aAAA,EAAA,KAPA;AAQA,MAAA,KAAA,EAAA,EARA;AASA,MAAA,QAAA,EAAA;AATA,KAAA;AAWA,GA3EA;;AA4EA,EAAA,QAAA,EAAA;AACA,IAAA,OAAA,GAAA;AACA,aACA,UAAA,CAAA,KAAA,YAAA,CAAA,OAAA,CAAA,IACA,KAAA,YAAA,CAAA,OAAA,CAAA;AACA,QAAA,SAAA,EAAA,KAAA,SADA;AAEA,QAAA,SAAA,EAAA,KAAA,SAFA;AAGA,QAAA,IAAA,EAAA,KAAA,IAHA;AAIA,QAAA,YAAA,EAAA,KAAA,cAJA;AAKA,QAAA,IAAA,EAAA,IAAA,IAAA,KAAA,IAAA,CAAA,IAAA;AALA,OAAA,CADA,IAQA,KAAA,MAAA,CAAA,OATA;AAWA,KAbA;;AAcA,IAAA,aAAA,GAAA;AACA,aAAA;AACA,QAAA,SAAA,EAAA,KAAA,SADA;AAEA,QAAA,aAAA,EAAA,KAAA,aAFA;AAGA,QAAA,SAAA,EAAA;AACA,UAAA,IAAA,EAAA;AAAA,YAAA,OAAA,EAAA;AAAA,WADA;AAEA,UAAA,eAAA,EAAA;AAAA,YAAA,OAAA,EAAA;AAAA,WAFA;AAGA,aAAA,KAAA;AAHA,SAHA;AAQA,QAAA,QAAA,EAAA,KAAA,cARA;AASA,QAAA,QAAA,EAAA,KAAA;AATA,OAAA;AAWA,KA1BA;;AA2BA,IAAA,SAAA,GAAA;AACA,aAAA,CAAA,EACA,KAAA,GAAA,KACA,KAAA,YAAA,CAAA,OAAA,IAAA,KAAA,MAAA,CAAA,OADA,KAEA,KAAA,UAAA,KAAA,QAHA,CAAA;AAKA,KAjCA;;AAkCA,IAAA,SAAA,GAAA;AACA,aAAA,KAAA,SAAA,IAAA,KAAA,SAAA,CAAA,KAAA,CAAA,GAAA,EAAA,CAAA,CAAA,IAAA,QAAA;AACA,KApCA;;AAqCA,IAAA,SAAA,GAAA;AACA,YAAA,WAAA,GACA,KAAA,SAAA,KAAA,MAAA,IAAA,KAAA,SAAA,KAAA,OADA;AAEA,UAAA,SAAA,GAAA,KAAA,SAAA,CAAA,KAAA,CAAA,GAAA,CAAA;AACA,MAAA,SAAA,GAAA,SAAA,CAAA,MAAA,GAAA,CAAA,GAAA,SAAA,CAAA,CAAA,CAAA,GAAA,EAAA;;AACA,UAAA,CAAA,OAAA,EAAA,KAAA,EAAA,MAAA,EAAA,QAAA,CAAA,SAAA,CAAA,EAAA;AACA,eAAA,WAAA,GAAA,KAAA,GAAA,MAAA;AACA;;AACA,UAAA,CAAA,KAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,CAAA,SAAA,CAAA,EAAA;AACA,eAAA,WAAA,GAAA,QAAA,GAAA,OAAA;AACA;;AACA,aAAA,WAAA,GAAA,QAAA,GAAA,QAAA;AACA,KAjDA;;AAkDA,IAAA,KAAA,GAAA;AACA,aAAA,KAAA,SAAA,CAAA,KAAA,EAAA,CAAA;AACA;;AApDA,GA5EA;AAkIA,EAAA,KAAA,EAAA;AACA,IAAA,KAAA,EAAA;AACA,MAAA,SAAA,EAAA,IADA;;AAEA,MAAA,OAAA,CAAA,GAAA,EAAA;AACA,YAAA,GAAA,EAAA;AACA,eAAA,GAAA,GAAA,GAAA,CAAA,GAAA;AACA,eAAA,IAAA,GAAA,GAAA,CAAA,IAAA;AACA,eAAA,UAAA,GAAA,GAAA,CAAA,UAAA;AACA,eAAA,SAAA,GAAA,GAAA,CAAA,SAAA;AACA,eAAA,aAAA,GAAA,GAAA,CAAA,aAAA;AACA,eAAA,SAAA,GAAA,GAAA,CAAA,SAAA;AACA,eAAA,aAAA,GAAA,GAAA,CAAA,aAAA;AACA,eAAA,WAAA;AACA;AACA;;AAbA;AADA,GAlIA;;AAmJA,EAAA,OAAA,GAAA;AACA,SAAA,SAAA,GAAA,KAAA,KAAA,CAAA,OAAA;AACA,SAAA,SAAA;AACA,GAtJA;;AAuJA,EAAA,aAAA,GAAA;AACA,SAAA,YAAA;AACA,GAzJA;;AA0JA,EAAA,OAAA,EAAA;AACA,IAAA,SAAA,GAAA;AACA,MAAA,EAAA,CAAA,KAAA,SAAA,EAAA,OAAA,EAAA,KAAA,OAAA,CAAA;AACA,MAAA,EAAA,CAAA,KAAA,SAAA,EAAA,WAAA,EAAA,KAAA,WAAA,CAAA;AACA,MAAA,EAAA,CAAA,KAAA,SAAA,EAAA,YAAA,EAAA,KAAA,YAAA,CAAA;AACA,MAAA,EAAA,CAAA,KAAA,SAAA,EAAA,SAAA,EAAA,KAAA,SAAA,CAAA;AACA,MAAA,EAAA,CAAA,KAAA,SAAA,EAAA,UAAA,EAAA,KAAA,UAAA,CAAA;AACA,MAAA,EAAA,CAAA,QAAA,EAAA,SAAA,EAAA,KAAA,iBAAA,CAAA;AACA,WAAA,gBAAA,GAAA,oBAAA,CACA,QADA,EAEA,KAAA,eAFA,CAAA;AAIA,KAZA;;AAaA,IAAA,YAAA,GAAA;AACA,MAAA,GAAA,CAAA,KAAA,SAAA,EAAA,OAAA,EAAA,KAAA,OAAA,CAAA;AACA,MAAA,GAAA,CAAA,KAAA,SAAA,EAAA,WAAA,EAAA,KAAA,WAAA,CAAA;AACA,MAAA,GAAA,CAAA,KAAA,SAAA,EAAA,YAAA,EAAA,KAAA,YAAA,CAAA;AACA,MAAA,GAAA,CAAA,KAAA,SAAA,EAAA,SAAA,EAAA,KAAA,SAAA,CAAA;AACA,MAAA,GAAA,CAAA,KAAA,SAAA,EAAA,UAAA,EAAA,KAAA,UAAA,CAAA;AACA,MAAA,GAAA,CAAA,QAAA,EAAA,SAAA,EAAA,KAAA,iBAAA,CAAA;AACA,UAAA,KAAA,gBAAA,EAAA,KAAA,gBAAA;AACA,KArBA;;AAsBA,IAAA,OAAA,CAAA,CAAA,EAAA;AACA,MAAA,CAAA,CAAA,eAAA;AACA,KAxBA;;AAyBA,IAAA,WAAA,GAAA;AACA,UAAA,KAAA,aAAA,IAAA,KAAA,UAAA,KAAA,OAAA,EAAA;AACA,aAAA,IAAA;AACA;AACA,KA7BA;;AA8BA,IAAA,YAAA,GAAA;AACA,UAAA,KAAA,aAAA,IAAA,KAAA,UAAA,KAAA,OAAA,EAAA;AACA,aAAA,IAAA;AACA;AACA,KAlCA;;AAmCA,IAAA,SAAA,GAAA;AACA,UAAA,KAAA,aAAA,IAAA,KAAA,UAAA,KAAA,OAAA,EAAA;AACA,aAAA,IAAA;AACA;AACA,KAvCA;;AAwCA,IAAA,UAAA,CAAA,CAAA,EAAA;AACA,UACA,KAAA,aAAA,IACA,KAAA,UAAA,KAAA,OADA,IAEA,CAAA,CAAA,aAFA,IAGA,CAAA,eAAA,CAAA,KAAA,SAAA,EAAA,CAAA,CAAA,aAAA,CAJA,EAKA;AACA,aAAA,IAAA;AACA;AACA,KAjDA;;AAkDA,IAAA,eAAA,CAAA,CAAA,EAAA;AACA,UAAA,CAAA,KAAA,KAAA,CAAA,OAAA,IAAA,CAAA,KAAA,GAAA,EAAA;AACA;AACA,OAHA,CAIA;;;AACA,UACA,eAAA,CAAA,KAAA,SAAA,EAAA,CAAA,CAAA,MAAA,CAAA,IACA,eAAA,CAAA,KAAA,GAAA,EAAA,CAAA,CAAA,MAAA,CAFA,EAGA;AACA;AACA,OAVA,CAWA;;;AACA,WAAA,IAAA;AACA,KA/DA;;AAgEA,IAAA,iBAAA,CAAA,CAAA,EAAA;AACA,UAAA,CAAA,CAAA,GAAA,KAAA,KAAA,IAAA,CAAA,CAAA,GAAA,KAAA,QAAA,EAAA;AACA,aAAA,IAAA;AACA;AACA,KApEA;;AAqEA,IAAA,IAAA,GAAA;AACA,WAAA,YAAA,CAAA;AAAA,QAAA,EAAA,EAAA,KAAA,EAAA;AAAA,QAAA,GAAA,EAAA,KAAA,GAAA;AAAA,QAAA,KAAA,EAAA;AAAA,OAAA;AACA,KAvEA;;AAwEA,IAAA,IAAA,CAAA,IAAA,EAAA;AACA,WAAA,YAAA,CAAA,EACA,GAAA,IADA;AAEA,QAAA,EAAA,EAAA,KAAA,EAFA;AAGA,QAAA,GAAA,EAAA,KAAA;AAHA,OAAA;AAKA,KA9EA;;AA+EA,IAAA,QAAA,CAAA;AAAA,MAAA;AAAA,KAAA,EAAA;AACA,WAAA,IAAA,GAAA,IAAA;AACA,WAAA,WAAA;AACA,KAlFA;;AAmFA,IAAA,WAAA,GAAA;AACA,WAAA,SAAA,CAAA,MAAA;AACA,YAAA,CAAA,KAAA,GAAA,IAAA,CAAA,KAAA,KAAA,CAAA,OAAA,EAAA;;AACA,YAAA,KAAA,MAAA,IAAA,KAAA,MAAA,CAAA,SAAA,KAAA,KAAA,GAAA,EAAA;AACA,eAAA,MAAA,CAAA,OAAA;AACA,eAAA,MAAA,GAAA,IAAA;AACA;;AACA,YAAA,CAAA,KAAA,MAAA,EAAA;AACA,eAAA,MAAA,GAAA,IAAA,MAAA,CACA,KAAA,GADA,EAEA,KAAA,SAFA,EAGA,KAAA,aAHA,CAAA;AAKA,SANA,MAMA;AACA,eAAA,MAAA,CAAA,cAAA;AACA;AACA,OAfA;AAgBA,KApGA;;AAqGA,IAAA,cAAA,CAAA,IAAA,EAAA;AACA,WAAA,SAAA,GAAA,IAAA,CAAA,SAAA;AACA,KAvGA;;AAwGA,IAAA,cAAA,GAAA;AACA,UAAA,KAAA,MAAA,EAAA;AACA,aAAA,MAAA,CAAA,cAAA;AACA;AACA,KA5GA;;AA6GA,IAAA,WAAA,CAAA,CAAA,EAAA;AACA,WAAA,KAAA,CAAA,YAAA,EAAA,CAAA;AACA,KA/GA;;AAgHA,IAAA,UAAA,CAAA,CAAA,EAAA;AACA,WAAA,KAAA,CAAA,WAAA,EAAA,CAAA;AACA,KAlHA;;AAmHA,IAAA,WAAA,CAAA,CAAA,EAAA;AACA,WAAA,KAAA,CAAA,YAAA,EAAA,CAAA;AACA,KArHA;;AAsHA,IAAA,UAAA,CAAA,CAAA,EAAA;AACA,WAAA,aAAA;AACA,WAAA,KAAA,CAAA,WAAA,EAAA,CAAA;AACA,KAzHA;;AA0HA,IAAA,aAAA,GAAA;AACA,UAAA,KAAA,MAAA,EAAA;AACA,aAAA,MAAA,CAAA,OAAA;AACA,aAAA,MAAA,GAAA,IAAA;AACA;AACA;;AA/HA;AA1JA,CAAA","sourcesContent":["<script>\r\nimport Popper from 'popper.js';\r\nimport { popoversMixin } from '../utils/popovers';\r\nimport { on, off, elementContains } from '../utils/helpers';\r\nimport { addTapOrClickHandler } from '../utils/touch';\r\nimport { isFunction } from '../utils/_';\r\n\r\nexport default {\r\n  name: 'Popover',\r\n  render(h) {\r\n    return h(\r\n      'div',\r\n      {\r\n        class: [\r\n          'vc-popover-content-wrapper',\r\n          { 'is-interactive': this.isInteractive },\r\n        ],\r\n        ref: 'popover',\r\n      },\r\n      [\r\n        h(\r\n          'transition',\r\n          {\r\n            props: {\r\n              name: this.transition,\r\n              appear: true,\r\n            },\r\n            on: {\r\n              beforeEnter: this.beforeEnter,\r\n              afterEnter: this.afterEnter,\r\n              beforeLeave: this.beforeLeave,\r\n              afterLeave: this.afterLeave,\r\n            },\r\n          },\r\n          [\r\n            this.isVisible &&\r\n              h(\r\n                'div',\r\n                {\r\n                  attrs: {\r\n                    tabindex: -1,\r\n                  },\r\n                  class: [\r\n                    'vc-popover-content',\r\n                    `direction-${this.direction}`,\r\n                    this.contentClass,\r\n                  ],\r\n                },\r\n                [\r\n                  this.content,\r\n                  h('span', {\r\n                    class: [\r\n                      'vc-popover-caret',\r\n                      `direction-${this.direction}`,\r\n                      `align-${this.alignment}`,\r\n                    ],\r\n                  }),\r\n                ],\r\n              ),\r\n          ],\r\n        ),\r\n      ],\r\n    );\r\n  },\r\n  mixins: [popoversMixin],\r\n  props: {\r\n    id: { type: String, required: true },\r\n    transition: { type: String, default: 'slide-fade' },\r\n    contentClass: String,\r\n  },\r\n  data() {\r\n    return {\r\n      ref: null,\r\n      args: null,\r\n      visibility: '',\r\n      placement: 'bottom',\r\n      positionFixed: false,\r\n      modifiers: {},\r\n      isInteractive: false,\r\n      delay: 10,\r\n      popperEl: null,\r\n    };\r\n  },\r\n  computed: {\r\n    content() {\r\n      return (\r\n        (isFunction(this.$scopedSlots.default) &&\r\n          this.$scopedSlots.default({\r\n            direction: this.direction,\r\n            alignment: this.alignment,\r\n            args: this.args,\r\n            updateLayout: this.scheduleUpdate,\r\n            hide: opts => this.hide(opts),\r\n          })) ||\r\n        this.$slots.default\r\n      );\r\n    },\r\n    popperOptions() {\r\n      return {\r\n        placement: this.placement,\r\n        positionFixed: this.positionFixed,\r\n        modifiers: {\r\n          hide: { enabled: false },\r\n          preventOverflow: { enabled: false },\r\n          ...this.modifiers,\r\n        },\r\n        onCreate: this.onPopperUpdate,\r\n        onUpdate: this.onPopperUpdate,\r\n      };\r\n    },\r\n    isVisible() {\r\n      return !!(\r\n        this.ref &&\r\n        (this.$scopedSlots.default || this.$slots.default) &&\r\n        this.visibility !== 'hidden'\r\n      );\r\n    },\r\n    direction() {\r\n      return (this.placement && this.placement.split('-')[0]) || 'bottom';\r\n    },\r\n    alignment() {\r\n      const isLeftRight =\r\n        this.direction === 'left' || this.direction === 'right';\r\n      let alignment = this.placement.split('-');\r\n      alignment = alignment.length > 1 ? alignment[1] : '';\r\n      if (['start', 'top', 'left'].includes(alignment)) {\r\n        return isLeftRight ? 'top' : 'left';\r\n      }\r\n      if (['end', 'bottom', 'right'].includes(alignment)) {\r\n        return isLeftRight ? 'bottom' : 'right';\r\n      }\r\n      return isLeftRight ? 'middle' : 'center';\r\n    },\r\n    state() {\r\n      return this.$popovers[this.id];\r\n    },\r\n  },\r\n  watch: {\r\n    state: {\r\n      immediate: true,\r\n      handler(val) {\r\n        if (val) {\r\n          this.ref = val.ref;\r\n          this.args = val.args;\r\n          this.visibility = val.visibility;\r\n          this.placement = val.placement;\r\n          this.positionFixed = val.positionFixed;\r\n          this.modifiers = val.modifiers;\r\n          this.isInteractive = val.isInteractive;\r\n          this.setupPopper();\r\n        }\r\n      },\r\n    },\r\n  },\r\n  mounted() {\r\n    this.popoverEl = this.$refs.popover;\r\n    this.addEvents();\r\n  },\r\n  beforeDestroy() {\r\n    this.removeEvents();\r\n  },\r\n  methods: {\r\n    addEvents() {\r\n      on(this.popoverEl, 'click', this.onClick);\r\n      on(this.popoverEl, 'mouseover', this.onMouseOver);\r\n      on(this.popoverEl, 'mouseleave', this.onMouseLeave);\r\n      on(this.popoverEl, 'focusin', this.onFocusIn);\r\n      on(this.popoverEl, 'focusout', this.onFocusOut);\r\n      on(document, 'keydown', this.onDocumentKeydown);\r\n      this.removeDocHandler = addTapOrClickHandler(\r\n        document,\r\n        this.onDocumentClick,\r\n      );\r\n    },\r\n    removeEvents() {\r\n      off(this.popoverEl, 'click', this.onClick);\r\n      off(this.popoverEl, 'mouseover', this.onMouseOver);\r\n      off(this.popoverEl, 'mouseleave', this.onMouseLeave);\r\n      off(this.popoverEl, 'focusin', this.onFocusIn);\r\n      off(this.popoverEl, 'focusout', this.onFocusOut);\r\n      off(document, 'keydown', this.onDocumentKeydown);\r\n      if (this.removeDocHandler) this.removeDocHandler();\r\n    },\r\n    onClick(e) {\r\n      e.stopPropagation();\r\n    },\r\n    onMouseOver() {\r\n      if (this.isInteractive && this.visibility === 'hover') {\r\n        this.show();\r\n      }\r\n    },\r\n    onMouseLeave() {\r\n      if (this.isInteractive && this.visibility === 'hover') {\r\n        this.hide();\r\n      }\r\n    },\r\n    onFocusIn() {\r\n      if (this.isInteractive && this.visibility === 'focus') {\r\n        this.show();\r\n      }\r\n    },\r\n    onFocusOut(e) {\r\n      if (\r\n        this.isInteractive &&\r\n        this.visibility === 'focus' &&\r\n        e.relatedTarget &&\r\n        !elementContains(this.popoverEl, e.relatedTarget)\r\n      ) {\r\n        this.hide();\r\n      }\r\n    },\r\n    onDocumentClick(e) {\r\n      if (!this.$refs.popover || !this.ref) {\r\n        return;\r\n      }\r\n      // Don't hide if target element is contained within popover ref or content\r\n      if (\r\n        elementContains(this.popoverEl, e.target) ||\r\n        elementContains(this.ref, e.target)\r\n      ) {\r\n        return;\r\n      }\r\n      // Hide the popover\r\n      this.hide();\r\n    },\r\n    onDocumentKeydown(e) {\r\n      if (e.key === 'Esc' || e.key === 'Escape') {\r\n        this.hide();\r\n      }\r\n    },\r\n    show() {\r\n      this.$showPopover({ id: this.id, ref: this.ref, delay: 0 });\r\n    },\r\n    hide(opts) {\r\n      this.$hidePopover({\r\n        ...opts,\r\n        id: this.id,\r\n        ref: this.ref,\r\n      });\r\n    },\r\n    onUpdate({ args }) {\r\n      this.args = args;\r\n      this.setupPopper();\r\n    },\r\n    setupPopper() {\r\n      this.$nextTick(() => {\r\n        if (!this.ref || !this.$refs.popover) return;\r\n        if (this.popper && this.popper.reference !== this.ref) {\r\n          this.popper.destroy();\r\n          this.popper = null;\r\n        }\r\n        if (!this.popper) {\r\n          this.popper = new Popper(\r\n            this.ref,\r\n            this.popoverEl,\r\n            this.popperOptions,\r\n          );\r\n        } else {\r\n          this.popper.scheduleUpdate();\r\n        }\r\n      });\r\n    },\r\n    onPopperUpdate(data) {\r\n      this.placement = data.placement;\r\n    },\r\n    scheduleUpdate() {\r\n      if (this.popper) {\r\n        this.popper.scheduleUpdate();\r\n      }\r\n    },\r\n    beforeEnter(e) {\r\n      this.$emit('beforeShow', e);\r\n    },\r\n    afterEnter(e) {\r\n      this.$emit('afterShow', e);\r\n    },\r\n    beforeLeave(e) {\r\n      this.$emit('beforeHide', e);\r\n    },\r\n    afterLeave(e) {\r\n      this.destroyPopper();\r\n      this.$emit('afterHide', e);\r\n    },\r\n    destroyPopper() {\r\n      if (this.popper) {\r\n        this.popper.destroy();\r\n        this.popper = null;\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"postcss\" scoped>\r\n.vc-popover-content-wrapper {\r\n  --popover-horizontal-content-offset: 8px;\r\n  --popover-vertical-content-offset: 10px;\r\n  --popover-slide-translation: 15px;\r\n  --popover-transition-time: 0.14s ease-in-out;\r\n  --popover-caret-horizontal-offset: 18px;\r\n  --popover-caret-vertical-offset: 8px;\r\n\r\n  position: absolute;\r\n  display: block;\r\n  outline: none;\r\n  z-index: 10;\r\n  &:not(.is-interactive) {\r\n    pointer-events: none;\r\n  }\r\n}\r\n\r\n.vc-popover-content {\r\n  position: relative;\r\n  outline: none;\r\n  z-index: 10;\r\n  &.direction-bottom {\r\n    margin-top: var(--popover-vertical-content-offset);\r\n  }\r\n  &.direction-top {\r\n    margin-bottom: var(--popover-vertical-content-offset);\r\n  }\r\n  &.direction-left {\r\n    margin-right: var(--popover-horizontal-content-offset);\r\n  }\r\n  &.direction-right {\r\n    margin-left: var(--popover-horizontal-content-offset);\r\n  }\r\n}\r\n\r\n.vc-popover-caret {\r\n  content: '';\r\n  position: absolute;\r\n  display: block;\r\n  width: 12px;\r\n  height: 12px;\r\n  border-top: inherit;\r\n  border-left: inherit;\r\n  background: inherit;\r\n  z-index: -1;\r\n  &.direction-bottom {\r\n    top: 0;\r\n    &.align-left {\r\n      transform: translateY(-50%) rotate(45deg);\r\n    }\r\n    &.align-center {\r\n      transform: translateX(-50%) translateY(-50%) rotate(45deg);\r\n    }\r\n    &.align-right {\r\n      transform: translateY(-50%) rotate(45deg);\r\n    }\r\n  }\r\n  &.direction-top {\r\n    top: 100%;\r\n    &.align-left {\r\n      transform: translateY(-50%) rotate(-135deg);\r\n    }\r\n    &.align-center {\r\n      transform: translateX(-50%) translateY(-50%) rotate(-135deg);\r\n    }\r\n    &.align-right {\r\n      transform: translateY(-50%) rotate(-135deg);\r\n    }\r\n  }\r\n  &.direction-left {\r\n    left: 100%;\r\n    &.align-top {\r\n      transform: translateX(-50%) rotate(135deg);\r\n    }\r\n    &.align-middle {\r\n      transform: translateY(-50%) translateX(-50%) rotate(135deg);\r\n    }\r\n    &.align-bottom {\r\n      transform: translateX(-50%) rotate(135deg);\r\n    }\r\n  }\r\n  &.direction-right {\r\n    left: 0;\r\n    &.align-top {\r\n      transform: translateX(-50%) rotate(-45deg);\r\n    }\r\n    &.align-middle {\r\n      transform: translateY(-50%) translateX(-50%) rotate(-45deg);\r\n    }\r\n    &.align-bottom {\r\n      transform: translateX(-50%) rotate(-45deg);\r\n    }\r\n  }\r\n  &.align-left {\r\n    left: var(--popover-caret-horizontal-offset);\r\n  }\r\n  &.align-center {\r\n    left: 50%;\r\n  }\r\n  &.align-right {\r\n    right: var(--popover-caret-horizontal-offset);\r\n  }\r\n  &.align-top {\r\n    top: var(--popover-caret-vertical-offset);\r\n  }\r\n  &.align-middle {\r\n    top: 50%;\r\n  }\r\n  &.align-bottom {\r\n    bottom: var(--popover-caret-vertical-offset);\r\n  }\r\n}\r\n\r\n.fade-enter-active,\r\n.fade-leave-active,\r\n.slide-fade-enter-active,\r\n.slide-fade-leave-active {\r\n  transition: all var(--popover-transition-time);\r\n  pointer-events: none;\r\n}\r\n\r\n.fade-enter,\r\n.fade-leave-to {\r\n  opacity: 0;\r\n}\r\n\r\n.slide-fade-enter,\r\n.slide-fade-leave-to {\r\n  opacity: 0;\r\n  &.direction-bottom {\r\n    transform: translateY(calc(-1 * var(--popover-slide-translation)));\r\n  }\r\n  &.direction-top {\r\n    transform: translateY(var(--popover-slide-translation));\r\n  }\r\n  &.direction-left {\r\n    transform: translateX(var(--popover-slide-translation));\r\n  }\r\n  &.direction-right {\r\n    transform: translateX(calc(-1 * var(--popover-slide-translation)));\r\n  }\r\n}\r\n</style>\r\n"],"sourceRoot":"src/components"}]}