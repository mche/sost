@@@ time/work/report

<div ng-hide="$c.ready" ng-include=" 'progress/load' "></div>

<div class="row" ng-if="$c.ready">
<a ng-click="$c.Print()" href="javascript:" class="btn-flat shadow-inset-10 z-depth-1 black-text right">
  <i class="material-icons">print</i>
  <span>Квитки расчета</span>
</a>
<h2 class="center000">Сводка-начисление ЗП по табелю</h2>

<div class="row">
<div ng-init="$c.InitMonth()" class="col s12 m4 right-align">
  <h3 class="iblock middle" style="vertical-align:top;">Месяц</h3>
  <div class="input-field chip middle teal lighten-4 picker-month" style="width:13rem;">
    <input name="месяц" type="text" class="datepicker fs18 fw500 teal-text text-darken-3"  ng-focus000="$c.SetDate($event)" data-value="{{ $c.param['месяц'] }}" style="margin:0rem; font-size:1.5rem;">
  </div>
</div>

<!--ul ng-if="$c.data['объекты']" class="tabs card tabs-transparent teal darken-2" style="margin:0;">
  <li class="tab">
    <h3><a ng-click="$c.SelectObj(null)" href="javascript:" class="blue" ng-class="{'active': null === $c.param['объект']}" style="font-size:inherit;">Все объекты</a></h3>
  </li>

  <li ng-repeat="obj in $c.data['объекты']" class="tab">
    <h3><a ng-click="$c.SelectObj(obj)" href="javascript:" ng-class="{'active': obj === $c.param['объект']}" style="font-size:inherit;">{{obj.name}}</a></h3>
  </li>
  
  <li class="tab">
    <h3><a ng-click="$c.SelectDisabledObj()" href="javascript:" class="grey darken-2" ng-class="{'active': $c.param['отключенные объекты']}" style="font-size:inherit;">Сданные объекты</a></h3>
  </li>

</ul-->

<div class="col s12 m8">
<div class="row chip block teal lighten-4 shadow-inset-10" ng-hide="$c.param['общий список бригад'] || $c.param['бригада']">
<div ng-hide="$c.param['общий список']" class="input-field">
  
  <object-select data-param="{'все объекты': true}" data-data="$c.data['объекты']" data-on-select-obj="$c.SelectObj(obj)"></object-select>
  
</div>

<div class="input-field">
  <input type="checkbox" id="крыжик списка" ng-model="$c.param['общий список']" ng-disabled000="$c.param['объект'].id" ng-change="$c.LoadData($event)" ng-value=" '1' " class="hide">
  <label for="крыжик списка" class="hover-shadow3d before-yellow-lighten-4"><h3>Общий список работников <sup ng-hide="!$c.data['данные']" class="chip teal darken-3 white-text bold fs8"> {{ $c.CountObj().length }} </sup></h3></label>
</div>
</div><!-- объекты-->

<div class="row chip block lighten-4 shadow-inset-10" ng-if-000="$c.data['данные'] && $c.data['данные'].length" ng-hide="$c.param['общий список'] || $c.param['объект']">
<div ng-hide="$c.param['общий список бригад']" class="input-field">
  <i class="material-icons" style="position: absolute; z-index: 1; right:0;">arrow_drop_down</i>
  <!--i ng-show="$c.param['бригада']" ng-click=" $c.param['бригада']=undefined " class="material-icons orange-text" style="position: absolute; right:2rem; cursor:pointer;">cancel</i-->
  <svg ng-show="$c.param['бригада']" ng-click=" $c.param['бригада']=undefined "  xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" class="middle red-fill fill-darken-1" style="height: 1.5rem; position: absolute; z-index: 1; right:2rem; cursor:pointer;" ng-include=" 'svg/left-clear-fill' " />
  <input name="выбор бригады" type="text" class="bold" ng-model=" $c.param['бригада'].name " ng-focus="$c.ToggleSelectObj($event)" ng-blur="$c.ToggleSelectObj($event,true)" placeholder="выбери бригаду или все бригады">
  
  <ul class="dropdown-content select-dropdown" style="opacity: 1; position: absolute; z-index: 1; top:0; width:100%;">

    <li ng-repeat="obj in $c.data['бригады']" class="tab000" ng-class="{'active selected bold': obj === $c.param['бригада']}" >
      <a ng-click="$c.SelectBrig(obj)" href="javascript:" style000="font-size:inherit;"><h3 ng-class="obj._class">{{obj.name}}</h3></a>
    </li>
    
  </ul>
  
</div>

<div class="input-field">
  <input type="checkbox" id="крыжик списка бригад" ng-model="$c.param['общий список бригад']" ng-disabled000="$c.param['объект'].id" ng-change000="$c.LoadData($event)" ng-value=" '1' " class="hide">
  <label for="крыжик списка бригад" class="hover-shadow3d before-yellow-lighten-4"><h3>Общий список работников в бригадах <sup  ng-hide="!$c.data['данные']" class="chip teal darken-3 white-text bold fs8"> {{ $c.CountBrig().length }} </sup></h3></label>
</div>
</div><!-- объекты-->

</div> <!-- col 2-->
</div><!-- row-->

<!--div>{{ $c.param | json }}</div-->

<div ng-if-000="  !$c.refreshTable " class="filters animated fadeIn slow">
  <!-- фильтровать профили -->
<div ng-if="$c.data['данные/профили']" class="input-field chip block teal lighten-4 row">
  
  <input ng-model="$c.param['фильтры']['профили']" ng-change-000="$c.ChangeProfileFilter($event)" ng-keyup="$c.KeyPressProfileFilter($event)" placeholder="выбрать по ФИО" class="" style="" autocomplete="off" type="text">
  <span ng-show="!$c.hideFilterProfileBtnPanel && $c.param['фильтры']['профили'] && $c.param['фильтры']['профили'].length" class="absolute" style="z-index: 1; /* right:0rem;*/ top:-0rem;">
    <a ng-click=" $c.KeyPressProfileFilter(undefined, true) "  href="javascript:" class="btn-flat padd-0-05 filter_list blue lighten-4 blue-text z-depth-1" >
      <i class="material-icons filter_list">filter_list</i>
      <span>фильтровать</span>
    </a>
    <a  ng-click=" $c.KeyPressProfileFilter() "  href="javascript:" class="btn-flat padd-0-05 red-text text-darken-1 red lighten-4 z-depth-1" >
      <!--i class="material-icons orange-text" >cancel</i-->
      <!--svg  xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="red-fill fill-lighten-3" style="height: 1.5rem;" ><use xlink:href="/fonts/icons.svg#cancel" /></svg-->
      <svg  xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" class="middle red-fill fill-darken-1" style="height: 1.5rem;" ng-include=" 'svg/left-clear-fill' "></svg>
      <span>очистить</span>
    </a>
  </span>
  <span hidden class="fs14 fw500">{{$c.param['фильтры']['профили']}}</span>
</div>


<div ng-show=" !$c.refreshTable " ng-if-000="$c.param['общий список'] || $c.param['объект'] || $c.param['общий список бригад'] || $c.param['бригада']" class="row">
  <!-- фильтровать ИТР" -->
  <span class="chip shadow-inset-10 input-field  teal lighten-4">
    <svg  xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="teal-fill fill-darken-3" style="height: 1.5rem;" ><use xlink:href="/fonts/icons.svg#filter" /></svg>
    <h5 class="inline">ИТР</h5>
    <span>
      <input  type="radio" id="radioITR1" name="ИТР" ng-model="$c.param['фильтры']['ИТР']" ng-value="true" ng-click="$c.ChangeRadioFilter($event)"><label for="radioITR1" ng-class="$c.ClassRadioLabelFilter()" style="margin:0 0.5rem;">Да<sup class="teal-text-darken-3 bold">{{ $c.CountFilter($c.FilterITR, true) }}</sup></label>
      <input  type="radio" id="radioITR2" name="ИТР" ng-model="$c.param['фильтры']['ИТР']" ng-value="false" ng-click="$c.ChangeRadioFilter($event)"><label for="radioITR2" ng-class="$c.ClassRadioLabelFilter()" style="margin:0 0.5rem;">Нет<sup class="teal-text-darken-3 bold">{{ $c.CountFilter($c.FilterITR, false) }}</sup></label>
    </span>
  </span>

  <!--- фильтр  -->
  <span class="chip shadow-inset-10 input-field  teal lighten-4">
    <svg  xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="teal-fill fill-darken-3" style="height: 1.5rem;" ><use xlink:href="/fonts/icons.svg#filter" /></svg>
    <h5 class="inline">Начисления</h5>
    <span>
      <input  type="radio" id="radioNach1" name="начисления" ng-model="$c.param['фильтры']['начисления']" ng-value="true" ng-click="$c.ChangeRadioFilter($event)"><label for="radioNach1" ng-class="$c.ClassRadioLabelFilter()" style="margin:0 0.5rem;">Да<sup class="teal-text-darken-3 bold">{{ $c.CountFilter($c.FilterNach, true) }}</sup></label>
      <input  type="radio" id="radioNach2" name="начисления" ng-model="$c.param['фильтры']['начисления']" ng-value="false" ng-click="$c.ChangeRadioFilter($event)"><label for="radioNach2" ng-class="$c.ClassRadioLabelFilter()" style="margin:0 0.5rem;">Нет<sup class="teal-text-darken-3 bold">{{ $c.CountFilter($c.FilterNach, false) }}</sup></label>
    </span>
  </span>
  
  <!--- фильтр  -->
  <span class="chip shadow-inset-10 input-field  teal lighten-4">
    <svg  xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="teal-fill fill-darken-3" style="height: 1.5rem;" ><use xlink:href="/fonts/icons.svg#filter" /></svg>
    <h5 class="inline">Расчет ЗП</h5>
    <span>
      <input  type="radio" id="radioCalcZP1" name="расчет ЗП" ng-model="$c.param['фильтры']['расчет ЗП']" ng-value="true" ng-disabled="$c['фильтр начисления'] === false" ng-click="$c.ChangeRadioFilter($event)"><label for="radioCalcZP1" ng-class="$c.ClassRadioLabelFilter()" style="margin:0 0.5rem;">Да<sup class="teal-text-darken-3 bold">{{ $c.CountFilter($c.FilterCalcZP, true) }}</sup></label>
      <input  type="radio" id="radioCalcZP2" name="расчет ЗП" ng-model="$c.param['фильтры']['расчет ЗП']" ng-value="false" ng-disabled="$c['фильтр начисления'] === false" ng-click="$c.ChangeRadioFilter($event)"><label for="radioCalcZP2" ng-class="$c.ClassRadioLabelFilter()" style="margin:0 0.5rem;">Нет<sup class="teal-text-darken-3 bold">{{ $c.CountFilter($c.FilterCalcZP, false) }}</sup></label>
    </span>
  </span>
  
  <!-- фильтровать Офис" -->
  <span class="chip shadow-inset-10 input-field  teal lighten-4">
    <svg  xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="teal-fill fill-darken-3" style="height: 1.5rem;" ><use xlink:href="/fonts/icons.svg#filter" /></svg>
    <h5 class="inline">Офис</h5>
    <span ng-init-000=" $c.param['фильтры']['офис'] = !1; ">
      <input  type="radio" id="radioOfis1" name="офис" ng-model="$c.param['фильтры']['офис']" ng-value="true" ng-click="$c.ChangeRadioFilter($event)"><label for="radioOfis1" ng-class="$c.ClassRadioLabelFilter()" style="margin:0 0.5rem;">Да<sup class="teal-text-darken-3 bold">{{ $c.CountFilter($c.FilterOfis, true) }}</sup></label>
      <input  type="radio" id="radioOfis2" name="офис" ng-model="$c.param['фильтры']['офис']" ng-value="false" ng-click="$c.ChangeRadioFilter($event)"><label for="radioOfis2" ng-class="$c.ClassRadioLabelFilter()" style="margin:0 0.5rem;">Нет<sup class="teal-text-darken-3 bold">{{ $c.CountFilter($c.FilterOfis, false) }}</sup></label>
    </span>
  </span>
  
  <!-- фильтровать Путевые листы..." -->
  <span class="chip shadow-inset-10 input-field  teal lighten-4">
    <svg  xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="teal-fill fill-darken-3" style="height: 1.5rem;" ><use xlink:href="/fonts/icons.svg#filter" /></svg>
    <h5 class="inline" title="путевые листы"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" class="teal-fill fill-darken-3" style="height: 1rem;"><use xlink:href="/fonts/icons.svg#driver"></use></svg><span>ПЛ</span></h5>
    <span ng-init=" name = 'путевые листы' ">
      <input  type="radio" id="radioPL1" name="{{ name }}" ng-model="$c.param['фильтры'][name]" ng-value="true" ng-click="$c.ChangeRadioFilter($event)"><label for="radioPL1" ng-class="$c.ClassRadioLabelFilter()" style="margin:0 0.5rem;">Да<sup class="teal-text-darken-3 bold">{{ $c.CountFilter($c.FilterPL, true) }}</sup></label>
      <input  type="radio" id="radioPL2" name="{{ name }}" ng-model="$c.param['фильтры'][name]" ng-value="false" ng-click="$c.ChangeRadioFilter($event)"><label for="radioPL2" ng-class="$c.ClassRadioLabelFilter()" style="margin:0 0.5rem;">Нет<sup class="teal-text-darken-3 bold">{{ $c.CountFilter($c.FilterPL, false) }}</sup></label>
    </span>
  </span>
  
  <!-- фильтровать доп ngIf: !!row['профиль1/id']  ngIf: !!row._row2  -->
  <span ng-if="$c.CountFilter($c['FilterДоплата'], true)" ng-if-000="$c['показать фильтр доплат']" class="chip shadow-inset-10 input-field  teal lighten-4">
    <svg  xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="teal-fill fill-darken-3" style="height: 1.5rem;" ><use xlink:href="/fonts/icons.svg#filter" /></svg>
    <h5 class="inline"><i class="material-icons">group</i><span>Доплата</span></h5>
    <span>
      <input  type="radio" id="radio1доплата" name="доплата" ng-model="$c.param['фильтры']['доплата']" ng-value="true" ng-click="$c.ChangeRadioFilter($event)"><label for="radio1доплата" ng-class="$c.ClassRadioLabelFilter()" style="margin:0 0.5rem;">Да<sup class="teal-text-darken-3 bold">{{ $c.CountFilter($c['FilterДоплата'], true) }}</sup></label>
      <input  type="radio" id="radio2доплата" name="доплата" ng-model="$c.param['фильтры']['доплата']" ng-value="false" ng-click="$c.ChangeRadioFilter($event)"><label for="radio2доплата" ng-class="$c.ClassRadioLabelFilter()" style="margin:0 0.5rem;">Нет<sup class="teal-text-darken-3 bold">{{ $c.CountFilter($c['FilterДоплата'], false) }}</sup></label>
    </span>
  </span>
  
</div>
</div><!--- конец фильтры профилей и прочих крыжиков --->

<!--div ng-if="$c.data['данные'].length"> {{ $c.DataObjsOrBrigs().filter($c.objFilter) | json }}</div-->
<div ng-show="$c.refreshTable" ng-include=" 'preloader-circular-small' " class="center-000"></div>
<div ng-show="$c.cancelerHttp" ng-include=" 'progress/load' "></div>
<!-- | filter: $c.FilterObj-->
<div ng-if="$c.data['данные'].length" ng-repeat="obj in $c.DataObjsOrBrigs()  | orderBy: $c.OrderByObj " ng-init="" class="row" ng-style="{{ ($c.param['общий список'] ? undefined : {'margin-top':'3rem'}) }}">
  <h2 ng-hide="$c.param['общий список'] || $c.param['общий список бригад']" class="blue-text text-darken-2">{{obj.name}}</h2><!--  <span ng-show="obj['$проект']"> ({{ obj['$проект'].name }})</span>-->
  
  <table ng-if=" !$c.refreshTable " ng-init=" $c.InitTable(obj) " class="scrollable striped bordered timework timework-report z-depth-3 teal lighten-5 animated slideInUp-000 zoomIn">
    <thead><tr class="teal lighten-3 z-depth-3">
      <th style="width:1%;"></th>
      <th style="width:15%;">ФИО</th>
      <th style="width:1%;">Должность</th>
      <th style="width:1%;" ng-if="$c.param['общий список'] || $c.param['общий список бригад'] || $c.param['бригада']">Объект</th>
      <!--th style="width:20%;" ng-if="$c.param['общий список бригад']">Бригада</th-->
      <th style="width:5%;">Кол-во часов</th>
      <th style="width:5%;">Кол-во смен</th>
      <th style="width:5%;">КТУ нач. уч.</th>
      <th style="width:5%;">КТУ зам. стр.</th>
      <!----th style="width:5%;" ng-if="$c.param['общий список'] || $c.param['общий список бригад'] || $c.param['бригада']">Ставка сут.</th--->
      <th style="width:7%;" title="Ставка руб/час или руб/смена (для группы ИТР)">Ставка раб.</th>
      <th style="width:10%;">
        <div>Сумма, руб<div>
        <div class="green-text text-darken-3">начисления</div>
        
      </th>
      <th style="width:1%;">
        <div class="green-text text-darken-3">Начислено?</div>
        <div class="blue-text text-darken-3"><i class="material-icons">local_post_office</i>Расчет?</div>
        <div class="blue-text text-darken-3 tborder">в конверт</div>
      </th>
      <th style="width:1%;">Примечание</th>
    </tr></thead>
    
    <tbody><!--- $c.data['данные'].filter($c.FilterData, obj) --->
      <tr ng-repeat="row in obj['данные'] | orderBy: $c.OrderByData"  ng-init=" $c.InitRow(row, $index); FIO = row._profile.names.join(' '); " ng-attr-id="row{{ $index }}">
        <td  class="right-align" style="padding:0.3rem;">
          <div>{{$index+1}}</div>
          <div ng-show="Math.abs(parseFloat(row['РасчетЗП/флажок'])) >= 0"><i class="material-icons blue-text-darken-3">local_post_office</i></div>
        </td>
        <td title-000="{{ row._profile | json }}" ng-attr-id="profile{{ row._profile.id }}" class="relative">
          <h5 ng-repeat--000="n in row._profile.names track by $index" class="" style-000="padding: 0 0.1rem;">
            <a ng-class="{'grey-text text-darken-2': !!row['профиль1/id'], 'blue-text text-darken-3':!!row['РасчетЗП/флажок'] }" ng-click="$c.ShowDetail(row)" href="javascript:" data-target="modal-detail" class="hover-shadow3d">{{ FIO }}</a>
            
          </h5>
          <h6 ng-if="!!row._row2" class="nowrap right-align" style0000="position: absolute; z-index: 1; bottom:0;"><a ng-href="#profile{{ row._row2._profile.id }}" class="grey-text text-darken-2 hover-shadow3d chip shadow-inset-10  padd-0-05">
            <i class="icon-left before-rotate90left"></i>
            <i class="material-icons">group</i>
            <span class="truncate iblock" style="padding: 0 0.1rem; max-width:12rem;">{{row._row2._profile.names.join(' ')}}</span>
            </a></h6>
          <h6 ng-if="!!row['профиль1/id']" class="nowrap right-align" style000="position: absolute; z-index: 1; bottom:0;">
            <a ng-href="#profile{{ row['профиль1/id'] }}" class="hover-shadow3d chip shadow-inset-10 padd-0-05">
              <i class="icon-left before-rotate180 fs10"></i>
              <i class="material-icons">group</i>
              <span class="truncate iblock" style="padding: 0 0.1rem; max-width:12rem;">{{ row._profile1.names.join(' ') }}</span>
            </a>
            <i ng-show="Math.abs(parseFloat(row._row2['РасчетЗП/флажок'])) >= 0" class="material-icons blue-text-darken-3">local_post_office</i>
            </h6>
        </td>
        <td>
          <span ng-repeat="d in row._profile['должности'] track by $index" class="truncate nowrap chip00 fs8" style="width:7rem;" title="{{ FIO }}&#10;{{ d.name || d }}">{{d.name || d}}</span>
          <span ng-repeat="id in row._profile['бригады/id'] track by $index" ng-init=" b = $c.data['$бригады'][id] " class="chip00 fs8 italic blue-grey-text" style="padding: 0 0.2rem;">{{b.name}}</span>
        </td>
        
        <td ng-if="$c.param['общий список'] || $c.param['общий список бригад'] || $c.param['бригада']">
          <h5 ng-repeat="o in row['объекты'] | filter: $c.FilterRowObj(obj) track by $index" ng-init-000="$c.IsHandSum(row, $index)" class="chip-00 padd-0-05 nowrap truncate right-align orange-text text-darken-4" ng-class="{'grey-text': row._profile2}" ng-style="row['стиль строки объекта']" style="width:20rem;" title="{{ FIO }}&#10;{{ row._object[$index].name }}"><!-- ({{ row._object[$index]['$проект'].name}}) -->
            <span class="">{{ row._object[$index].name }}</span><!-- ({{ row._object[$index]['$проект'].name}}) -->
          </h5>
          
          <div ng-repeat="o in row['объекты'].filter($c.FilterDopWork, row) track by $index" ng-init=" index =  row['объекты'].indexOf(o)" class="truncate right-align maroon-text" ng-class="{'grey-text': row._profile2}" ng-style="row['стиль строки объекта']" style="width:20rem;" title="{{ FIO }}&#10;{{ row._object[index].name }}">
            Доп. часы <span class="chip padd-0-05">{{ row._object[index].name }}</span><!-- ({{ row._object[$index]['$проект'].name}}) -->
          </div>
          
          <div ng-if="row['всего/переработка/часов']" class="right-align purple-text text-darken-2" ng-style="row['стиль строки объекта']">
            <svg  xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" class="circle purple darken-2 yellow-fill fill-darken-1" style="height: 1.5rem;" ><use xlink:href="/fonts/icons.svg#worker" /></svg>
            <span>Переработка</span>
          </div>
          
          <div ng-if="row['показать отпускные']" class="right-align yellow-text text-darken-2" ng-style="row['стиль строки объекта']">
            <svg  xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" class="circle yellow red-fill fill-darken-1" style="height: 1.5rem;" ><use xlink:href="/fonts/icons.svg#sun" /></svg>
            <span>Отпускные</span>
          </div>
          
          <div ng-if="row['показать суточные']" class="right-align" ng-style="row['стиль строки объекта']">
            <i class="circle black white-text fs12 material-icons" style="padding:0.2rem;">hotel</i>
            <span>Суточные</span>
          </div>
          
          <div ng-if="row._row2" ng-repeat="o in row._row2['объекты']  track by $index" class="grey-text  truncate right-align" ng-style="row['стиль строки объекта']" style="width:20rem;" title="{{ row._row2._profile.names.join(' ') }}&#10;{{ row._row2._object[$index].name }}">
            <span class="chip padd-0-05"><i class="material-icons">group</i>{{ row._row2._object[$index].name }}</span>
          </div>
          
          <div ng-if="$c.data['пересечение объектов'][row['профиль']]"  ng-mouseenter="oE = true;" ng-mouseleave="oE = false; " class="chip lighten-4 ng-scope red">
            <a ng-init="" ng-click000="  " class="btn-flat000" href000="javascript:">
              <span class="red-text">пересечение на объектах </span>
              <span style="padding: 0 0.5rem;" class="circle white-text bold red">!</span>
            </a>
            
            <!--svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" class="red-fill" style="height: 1.5rem;"><use xlink:href="/fonts/icons.svg#!sign-round-fill"></use></svg-->
            <ul ng-show="oE" class="collection  z-depth-2" style="position: absolute; z-index: 111; margin:0;">
              <li ng-repeat="row in $c.data['пересечение объектов'][row['профиль']]['пересечения']" class="collection-item red lighten-4">
                <span>{{ row['$дата'].day }}</span> <span>{{ row['$дата']['мес'] }}</span>
                
                <span><span ng-repeat="o in row['объекты']" class="chip join-plus" title-000="{{ o['$проект'].name }}">{{ o.name }}</span></span>
                <span><span ng-repeat="h in row['часы'] track by $index" class="join-plus bold red-text" title="{{ FIO }}&#10;{{  row['объекты'][$index].name }}">{{ h }}</span></span><!--+' ('+row['объекты'][$index]['$проект'].name+')'  -->
              </li>
            </ul>
          </div>
          
          <!--div class="print-only" style="height:12rem;"></div-->
        </td>
        
        <td>
          <!--div ng-if="!row['объекты']" class="input-field000" ng-style="row['стиль строки объекта']">
            {{ parseFloat(row['всего часов']).toLocaleString('ru-RU') }}
          </div-->
          <div ng-repeat="o in row['объекты'] | filter: $c.FilterRowObj(obj)  track by $index" ng-init=" index =  row['объекты'].indexOf(o)" ng-class-000="{'green-text text-darken-3': row['объекты'].length == 1 && !row['показать суточные']}" class="center" ng-style="row['стиль строки объекта']" title="{{ FIO }}&#10;{{ row._object[index].name }}">
            {{ parseFloat(row['всего часов'][index]).toLocaleString('ru-RU') }}
          </div>
          <!--Доп. часы замстрой -->
          <div ng-repeat="o in row['объекты'].filter($c.FilterDopWork, row) track by $index" ng-init=" index =  row['объекты'].indexOf(o)" class="center "  ng-style="row['стиль строки объекта']" style="" title="{{ FIO }}&#10;{{ row._object[index].name }}"><!-- ({{ row._object[index]['$проект'].name}}) -->
            <span class="circle padd-0-05 maroon white-text" ng-class="{'grey-text': row._profile2}">{{ parseFloat(row['Доп. часы замстрой'][index]).toLocaleString('ru-RU') }}</span>
          </div>
          
          <div ng-if="row['всего/переработка/часов']" class="right-align" ng-style="row['стиль строки объекта']" title="{{ FIO }}&#10;переработка часов">
            <span class="circle padd-0-05 purple darken-2 white-text">{{ row['всего/переработка/часов'] }}</span>
          </div>
          <div ng-if="row['показать отпускные']" class="" ng-style="row['стиль строки объекта']"><!-- пустое место  --></div>
          <div ng-if="row['показать суточные']" class="" ng-style="row['стиль строки объекта']"><!-- пустое место  --></div>
          
          <div ng-if="row._row2" class="" ng-style="row['стиль строки объекта']"><!-- пустое место доплата --></div>
          <div ng-if="row['объекты'].length > 1 && !$c.param['объект']" class="center bold green-text-000-text-darken-3" style="border-top: 1px solid;">{{ $c.DataSumTotal('всего часов', row).toLocaleString('ru-RU') }}</div>
        </td>
        
        <td>
          <!--div ng-if="!row['объекты']" class="input-field000" ng-style="row['стиль строки объекта']">
            {{ row['всего смен'] }}
          </div-->
          <div ng-repeat="o in row['объекты'] | filter: $c.FilterRowObj(obj)  track by $index" ng-init=" index =  row['объекты'].indexOf(o)" ng-class-000="{'green-text text-darken-3': row['объекты'].length == 1 && !row['показать суточные']}" class="center" ng-style="row['стиль строки объекта']" title="{{ FIO }}&#10;{{ row._object[index].name }}">
            {{ row['всего смен'][index] }}
          </div>
          <div ng-repeat="o in row['объекты'].filter($c.FilterDopWork, row)  track by $index" ng-init=" index =  row['объекты'].indexOf(o)"  class="" ng-style="row['стиль строки объекта']"><!-- пустое место доп часов --></div>
          <div ng-if="row['всего/переработка/смен']" ng-style="row['стиль строки объекта']" class="right-align purple-text text-darken-2" title="{{ FIO }}&#10;переработка в сменах">
            <span class="">{{ row['всего/переработка/смен'] }}</span>
          </div>
          <div ng-if="row['показать отпускные']" ng-style="row['стиль строки объекта']" class="right-align">
            <span class="circle padd-0-05 yellow darken-2 red-text">{{ row['отпускных дней'] }}</span>
          </div>
          <div ng-if="row['показать суточные']" class="right-align" ng-style="row['стиль строки объекта']" style="">
            <span class="circle padd-0-05 black white-text">{{row['Суточные/смены']}}</span>
          <!--div ng-if="row['объекты'] && row['показать суточные']" class="input-field" ng-style="row['стиль строки объекта']" style="width:50%;" title="суточные смены на всех объектах">
            <input type="text" ng-model="row['Суточные/смены']" ng-change="$c.SaveValue(row, 'Суточные/смены', undefined, {'объект': 0})"  style="text-align:right; height: 2rem; font-size:1rem;" placeholder="" ng-disabled="!!row['Суточные/начислено']"-->
          </div>
          
          <div ng-if="row._row2" class="" ng-style="row['стиль строки объекта']"><!-- пустое место доплата --></div>
          <div ng-if="row['объекты'].length > 1 && !$c.param['объект']" class="center bold green-text-000-text-darken-3" style="border-top: 1px solid;">{{ $c.DataSumTotal('всего смен', row).toLocaleString('ru-RU') }}</div>
        
        </td>
        
        <td>
          <!--div ng-if="!row['объекты']" class="input-field000" ng-style="row['стиль строки объекта']">
            {{ row['КТУ1'] }}
          </div-->
          <div ng-if="row['объекты'] && !row._profile2" ng-repeat="o in row['объекты'] | filter: $c.FilterRowObj(obj)  track by $index" ng-init=" index = row['объекты'].indexOf(o)" class="center" ng-class="{'strike-through': row['это ручная сумма'] && row['это ручная сумма'][index]}" ng-style="row['стиль строки объекта']" title="{{ FIO }}&#10;{{ row._object[index].name }}&#10;КТУ">
            {{ row['КТУ1'][index] }}
          </div>
        </td>
        <td>
          <!--div ng-if="!row['объекты']" class="input-field">
            <input type="text" ng-model="row['КТУ2']" ng-change="$c.SaveValue(row, 'КТУ2')"  style="text-align:left;height: 2rem;" placeholder="свой КТУ" ng-disabled="!!row['Начислено']">
          </div-->
          <div ng-if="row['объекты'] && !row._profile2" ng-repeat="o in row['объекты'] | filter: $c.FilterRowObj(obj)  track by $index" class="input-field" ng-init=" index =  row['объекты'].indexOf(o)"  title="{{ FIO }}&#10;{{ row._object[index].name }}&#10;КТУ2"">
            <div ng-show="$c.ShowSaving(row, 'КТУ2', index)" ng-include=" 'preloader-circular-small-red-darken-3' " class="absolute"></div>
            <input type="text" ng-model="row['КТУ2'][index]" ng-change="$c.SaveValue(row, 'КТУ2', index)"  style="height: 2rem;" placeholder="КТУ зам" ng-disabled="!!row['Начислено'][index] || Math.abs(parseFloat(row['РасчетЗП/флажок'])) >= 0" class="center" ng-class="{'strike-through': row['это ручная сумма'] && row['это ручная сумма'][index], 'red-text text-darken-3': $c.ShowSaving(row, 'КТУ2', index)}">
          </div>
        </td>
        
        <!------------------------- Ставка суточная ----------------------------------------------------------->
        <!---td ng-if="$c.param['общий список'] || $c.param['общий список бригад'] || $c.param['бригада']"> 
          <div ng-if="row['объекты'] && row['Суточные']" ng-repeat="o in row['объекты'] | filter: $c.FilterRowObj(obj)  track by $index" ng-init=" index =  row['объекты'].indexOf(o)" class="input-field"  title="{{ row._object[index].name }}">
            <input type="text" ng-model="row['Суточные/ставка'][index]" ng-change="$c.SaveValue(row, 'Суточные/ставка', index)"  style="text-align:left; height: 2rem;" placeholder="{{row['Суточные'][index] ? 'суточн' : '' }}" ng-disabled="!row['Суточные'][index] || !!row['Суточные/начислено'] || parseFloat(row['РасчетЗП/флажок']) >= 0">
          </div>
        </td-->
        
        <!---------------- Ставка на объектах, переработки и отпускная и суточных--------------------------------------->
        <td title="{{ FIO }}&#10;ставка {{ row._profile['ИТР?'] ? 'руб/смена для ИТР' : 'руб/час' }}">
        
          <!--div ng-if="!row['объекты']" class="input-field">
            <input type="text" ng-model="row['Ставка']" ng-change="$c.SaveValue(row, 'Ставка')" style="text-align:right;height: 2rem;" placeholder=" ставку" ng-disabled="!!row['Начислено']">
          </div-->
          <div ng-if="!row._profile2" ng-repeat="o in row['объекты'] | filter: $c.FilterRowObj(obj)  track by $index" class="input-field" ng-init=" index =  row['объекты'].indexOf(o); name = 'Ставка' "  title="{{ FIO }}&#10;{{ row._object[index].name }}&#10;Ставка">
            <div ng-show="$c.ShowSaving(row, name, index)" ng-include=" 'preloader-circular-small-red-darken-3' " class="absolute"></div>
            <input type="text" ng-model="row[name][index]" ng-change="$c.SaveValue(row, name, index)" ng-class="{'strike-through': row['это ручная сумма'] && row['это ручная сумма'][index], 'red-text text-darken-3': $c.ShowSaving(row, name, index)}" class="right-align" style="height: 2rem;" placeholder="ставку" ng-disabled="!!row['Начислено'][index] || Math.abs(parseFloat(row['РасчетЗП/флажок'])) >= 0">
          </div>
          <div ng-if="!row._profile2" ng-repeat="o in row['объекты'].filter($c.FilterDopWork, row)  track by $index" class="input-field" ng-init=" index =  row['объекты'].indexOf(o)" ng-style="row['стиль строки объекта']" title="{{ FIO }}&#10;{{ row._object[index].name }}&#10;Переработка ставка">
            <!--input type="text" ng-model="row['Ставка'][index]" style="text-align:right; height: 2rem;" placeholder="ставку" ng-disabled="1"-->
          </div>
          <!--- переработка --->
          <div ng-if="row['всего/переработка/часов']" class="input-field" title="{{ FIO }}&#10;ставка на переработку" ng-init=" name = 'Переработка/ставка' ">
            <div ng-show="$c.ShowSaving(row, name)" ng-include=" 'preloader-circular-small-red-darken-3' " class="absolute"></div>
            <input type="text" ng-model="row[name]" ng-change="$c.SaveValue(row, name, undefined, {'объект': 0})" class="right-align " ng-class="{'red-text text-darken-3': $c.ShowSaving(row, name), 'purple-text text-darken-2':!$c.ShowSaving(row, name), 'strike-through': row['это ручная сумма/переработка'],}" style="height: 2rem;" placeholder="ставку" ng-disabled="!!row['Переработка/начислено'] || Math.abs(parseFloat(row['РасчетЗП/флажок'])) >= 0">
          </div>
          
          <div ng-if="row['показать отпускные']" class="input-field" title="{{ FIO }}&#10;ставка на отпускные" ng-init=" name = 'Отпускные/ставка' ">
            <div ng-show="$c.ShowSaving(row, name)" ng-include=" 'preloader-circular-small-red-darken-3' " class="absolute"></div>
            <input type="text" ng-model="row[name]" ng-change="$c.SaveValue(row, name, undefined, {'объект': 0})" class="right-align" ng-class="{'red-text text-darken-3': $c.ShowSaving(row, name), 'yellow-text text-darken-2': !$c.ShowSaving(row,name), 'strike-through': row['это ручная сумма/отпускные'],}" style="height: 2rem;" placeholder="ставку" ng-disabled="!!row['Отпускные/начислено'] || Math.abs(parseFloat(row['РасчетЗП/флажок'])) >= 0">
          </div>
          
          <div ng-if="row['показать суточные']" ng-repeat-000="o in row['объекты'] | filter: $c.FilterRowObj(obj)  track by $index" ng-init-000=" index =  row['объекты'].indexOf(o)" class="input-field"  title="{{ FIO }}&#10;Суточные ставка" ng-init=" name = 'Суточные/ставка' ">
            <div ng-show="$c.ShowSaving(row, name)" ng-include=" 'preloader-circular-small-red-darken-3' " class="absolute"></div>
            <input type="text" ng-model="row[name]" ng-change="$c.SaveValue(row, name)" class="right-align" ng-class="{'red-text text-darken-3': $c.ShowSaving(row, name), 'strike-through': row['это ручная сумма/Суточные']}" style="height: 2rem;" placeholder="{{row['Суточные'] ? 'руб/сут' : '' }}" ng-disabled="!row['Суточные']|| !!row['Суточные/начислено'] || Math.abs(parseFloat(row['РасчетЗП/флажок'])) >= 0">
          </div>
          
        </td>
        
        <!---------------- Суммы начислений и расчетов --------------------->
        <td class="right-align"><div ng-if000="$c.DataSumIf(row)">
          <!--div ng-if="!row['объекты']" class="input-field">
            <input type="text" ng-model="row['Сумма']" ng-change="$c.SaveValue(row, 'Сумма')" style="height: 2rem; text-align: right;" placeholder="или сумму" ng-disabled="!!row['Начислено']">
          </div-->
          <div ng-if="row['объекты']" ng-repeat="o in row['объекты'] | filter: $c.FilterRowObj(obj)  track by $index" class="input-field" ng-init=" index =  row['объекты'].indexOf(o); name = 'Сумма' "  title="{{ FIO }}&#10;{{ row._object[index].name }}&#10;Сумма на начисление">
            <div ng-show="$c.ShowSaving(row, name, index)" ng-include=" 'preloader-circular-small-red-darken-3' " class="absolute"></div>
            <input type="text" ng-model="row[name][index]" ng-change="$c.SaveValue(row, name, index)" style="height: 2rem; text-align: right;" placeholder="или сумму" ng-disabled="!!row['Начислено'][index] || Math.abs(parseFloat(row['РасчетЗП/флажок'])) >= 0 " ng-class="{'green-text text-darken-3': !!row['Начислено'][index] || Math.abs(parseFloat(row['РасчетЗП/флажок'])) >= 0, 'strike-through': !row['Начислено'][index] && (Math.abs(parseFloat(row['РасчетЗП/флажок'])) >= 0), 'red-text text-darken-3': $c.ShowSaving(row, name, index)}">
          </div>
          
          <!--доп часы замстрой -->
          <div ng-if="row['объекты']" ng-repeat="o in row['объекты'].filter($c.FilterDopWork, row)  track by $index" class="input-field" ng-init=" index =  row['объекты'].indexOf(o); name = 'Доп. часы замстрой/сумма' "  title="{{ FIO }}&#10;{{ row._object[index].name }}&#10;Сумма за доп часы">
            <div ng-show="$c.ShowSaving(row, name, index)" ng-include=" 'preloader-circular-small-red-darken-3' " class="absolute"></div>
            <input type="text" ng-model="row[name][index]" ng-change="$c.SaveValue(row, name, index)" style="height: 2rem; text-align: right;" placeholder="сумму" ng-disabled="!!row['Доп. часы замстрой/начислено'][index] || Math.abs(parseFloat(row['РасчетЗП/флажок'])) >= 0" class="maroon-text" ng-class="{'strike-through': !!row[name][index] && !row['Доп. часы замстрой/начислено'][index] && (Math.abs(parseFloat(row['РасчетЗП/флажок'])) >= 0), 'red-text text-darken-3': $c.ShowSaving(row, name, index) }">
          </div >
          
          <!--- переработка --->
          <div ng-if="($c.param['общий список'] || $c.param['общий список бригад'] || $c.param['бригада']) && row['всего/переработка/часов']" class="input-field" title="{{ FIO }}&#10;переработка/сумма" ng-init=" name = 'Переработка/сумма' ">
            <div ng-show="$c.ShowSaving(row, name)" ng-include=" 'preloader-circular-small-red-darken-3' " class="absolute"></div>
            <input type="text" ng-model="row[name]" ng-change="$c.SaveValue(row, name, undefined, {'объект': 0})" ng-class="{'red-text text-darken-3': $c.ShowSaving(row, name), 'purple-text text-darken-2':!$c.ShowSaving(row, name), 'strike-through': !!row[name] && !row['Переработка/начислено'] && (Math.abs(parseFloat(row['РасчетЗП/флажок'])) >= 0 )}" class="right-align purple-text text-darken-2"  style="height: 2rem;" placeholder="сумма переработка" ng-disabled="!!row['Переработка/начислено'] || Math.abs(parseFloat(row['РасчетЗП/флажок'])) >= 0">
          </div>
          
          <!--- отпускная сумма --->
          <div ng-if="($c.param['общий список'] || $c.param['общий список бригад'] || $c.param['бригада']) && row['показать отпускные']" class="input-field" title="{{ FIO }}&#10;отпускная сумма" ng-init=" name = 'Отпускные/сумма' ">
            <div ng-show="$c.ShowSaving(row, name)" ng-include=" 'preloader-circular-small-red-darken-3' " class="absolute"></div>
            <input type="text" ng-model="row[name]" ng-change="$c.SaveValue(row, name, undefined, {'объект': 0})" ng-class="{'red-text text-darken-3': $c.ShowSaving(row, name), 'yellow-text text-darken-3': !$c.ShowSaving(row,name), 'strike-through': !!row[name] && !row['Отпускные/начислено'] && (Math.abs(parseFloat(row['РасчетЗП/флажок'])) >= 0)}" class="right-align" style="height: 2rem;" placeholder="сумма отпуск" ng-disabled="!!row['Отпускные/начислено'] || Math.abs(parseFloat(row['РасчетЗП/флажок'])) >= 0">
          </div>
          
           <!--- суточ -->
          <div ng-if="($c.param['общий список'] || $c.param['общий список бригад'] || $c.param['бригада']) && row['показать суточные']" class="input-field" ng-init=" name = 'Суточные/сумма' " title="{{ FIO }}&#10;Суточные"><!---  суточные -->
            <div ng-show="$c.ShowSaving(row, name)" ng-include=" 'preloader-circular-small-red-darken-3' " class="absolute"></div>
            <input type="text" ng-model="row[name]" ng-change="$c.SaveValue(row, name, undefined, {'объект': 0})" class="right-align" style="height: 2rem;" placeholder="сумма сут" ng-disabled="!!row['Суточные/начислено'] || Math.abs(parseFloat(row['РасчетЗП/флажок'])) >= 0" ng-class="{'black-text': !$c.ShowSaving(row, name),'red-text text-darken-3': $c.ShowSaving(row, name), 'strike-through': !!row[name] && !row['Суточные/начислено'] && (Math.abs(parseFloat(row['РасчетЗП/флажок'])) >= 0)}">
          </div>
          
          <div ng-if="row._row2" class="input-field" ng-init=" name = 'Сумма' " title="{{ row._row2._profile.names.join(' ') }}&#10;Сумма двойника  на начисление"><!-- доплата -->
            <div ng-show="$c.ShowSaving(row._row2, name, 0)" ng-include=" 'preloader-circular-small-red-darken-3' " class="absolute"></div>
            <input type="text" ng-model="row._row2[name][0]" ng-change="$c.SaveValue(row._row2, name, 0)" class="right-align" style="height: 2rem;" placeholder="сумма" ng-disabled="!!row._row2['Начислено'][0]" ng-class="{'red-text text-darken-3': $c.ShowSaving(row._row2, name, 0), 'green-text text-darken-3': !$c.ShowSaving(row._row2, name, 0) && !!row._row2[name][0], 'strike-through': !!row._row2[name][0] && (Math.abs(parseFloat(row['РасчетЗП/флажок'])) >= 0) && !(Math.abs(parseFloat(row._row2['РасчетЗП/флажок'])) >= 0)}" title-000="{{ row._row2 | json }}">
          </div>
          
          <div ng-if="row['объекты'] && (row['объекты'].length > 1 || row['показать отпускные'] || row['показать суточные'] || row['всего/переработка/часов'] || row._row2) && !$c.param['объект']" class="fs12 bold green-text text-darken-3" style="border-top: 1px solid;" title="{{ FIO }}&#10;Общая сумма начислений">
            {{ ($c.DataSumTotal('Сумма', row) + (row._row2 && row._row2['Начислено'][0] ? (parseFloat(Util.numeric(row._row2['Сумма'][0]) || 0)) : 0) ).toLocaleString('ru-RU') }}
          </div>
          
          
        </td>
        
        <!------------- крыжики начислений  ----------------------->
        <td>
          <div ng-if="row['объекты']" ng-repeat="o in row['объекты'] | filter: $c.FilterRowObj(obj)  track by $index" class="input-field center" ng-style="row['стиль строки объекта']" title="{{ FIO }}&#10;{{ row._object[index].name }}&#10;Начислено" ng-init=" index = row['объекты'].indexOf(o); name = 'Начислено' ">
            <div ng-show="$c.ShowSaving(row, name, index)" ng-include=" 'preloader-circular-small-red-darken-3' " class="absolute z-index-1" style="left:0.7rem;"></div>
            <input type="checkbox" ng-attr-id="крыжик выплаты {{row.$$hashKey + '-' + $index}}" ng-model="row[name][index]" ng-change000="$c.SaveValue(row, name) не срабатывает событие но крыжик переключается!!!" ng-change="$c.ConfirmValue(row, name, index)"  ng-click="$c.ConfirmValue(row, name, index)" ng-true-value="true" ng-false-value="null" ng-disabled=" !parseFloat(row['Сумма'][index]) || Math.abs(parseFloat(row['РасчетЗП/флажок'])) >= 0 || $c.ShowSaving(row) ">
            <label ng-show-000="!!parseFloat(row['Сумма'][index])" for="{{'крыжик выплаты ' + row.$$hashKey + '-' + $index}}" class="before-yellow-lighten-4 middle " ng-class="{'through grey-text ': !parseFloat(row['Сумма'][index]), 'green-text text-darken-3': !!parseFloat(row['Сумма'][index]) && !(Math.abs(parseFloat(row['РасчетЗП/флажок'])) >= 0), 'blue-text text-darken-3': Math.abs(parseFloat(row['РасчетЗП/флажок'])) >= 0 , 'strike-through': Math.abs(parseFloat(row['РасчетЗП/флажок'])) >= 0 && !row[name][index],}">Да</label>
          </div>
          
          <!--доп часы замстрой -->
          <div ng-if="row['объекты']" ng-repeat="o in row['объекты'].filter($c.FilterDopWork, row)  track by $index" class="input-field center" ng-style="row['стиль строки объекта']" title="{{ FIO }}&#10;{{ row._object[index].name }}&#10;Начислено за доп часы" ng-init=" index =  row['объекты'].indexOf(o); name = 'Доп. часы замстрой/начислено' ">
            <div ng-show="$c.ShowSaving(row, name, index)" ng-include=" 'preloader-circular-small-red-darken-3' " class="absolute z-index-1" style="left:0.7rem;"></div>
            <input type="checkbox" ng-attr-id="крыжик допчасов {{row.$$hashKey + '-' + $index}}" ng-model="row[name][index]" ng-change000="$c.SaveValue(row, name) не срабатывает событие но крыжик переключается!!!" ng-change="$c.ConfirmValue(row, name, index)"  ng-click="$c.ConfirmValue(row, name, index)" ng-true-value="true" ng-false-value="null" ng-disabled="!parseFloat(row['Доп. часы замстрой/сумма'][index]) || Math.abs(parseFloat(row['РасчетЗП/флажок'])) >= 0 || $c.ShowSaving(row) ">
            <label for="{{'крыжик допчасов ' + row.$$hashKey + '-' + $index}}" class="before-yellow-lighten-4 middle " ng-class="{'through grey-text ': !parseFloat(row['Доп. часы замстрой/сумма'][index]), 'maroon-text': !!parseFloat(row['Доп. часы замстрой/сумма'][index]) && !(Math.abs(parseFloat(row['РасчетЗП/флажок'])) >= 0), 'blue-text text-darken-3': Math.abs(parseFloat(row['РасчетЗП/флажок'])) >= 0, 'strike-through': Math.abs(parseFloat(row['РасчетЗП/флажок'])) >= 0 && !parseFloat(row[name][index]),}">Да</label>
          </div>
          
          <!--- крыжик переработка --->
          <div ng-if="($c.param['общий список'] || $c.param['общий список бригад'] || $c.param['бригада']) && row['всего/переработка/часов']" class="input-field center" ng-style="row['стиль строки объекта']" ng-init=" name = 'Переработка/начислено' ">
            <div ng-show="$c.ShowSaving(row, name)" ng-include=" 'preloader-circular-small-red-darken-3' " class="absolute z-index-1" style="left:0.7rem;"></div>
            <input type="checkbox" ng-attr-id="крыжик начисл переработка-{{row.$$hashKey}}" ng-model="row[name]"  ng-click="$c.ConfirmValue(row, name)" ng-true-value="true" ng-false-value="null" ng-checked000="!!row[name]"  ng-disabled="!parseFloat(row['Переработка/сумма']) || Math.abs(parseFloat(row['РасчетЗП/флажок'])) >= 0 || $c.ShowSaving(row)">
            <label for="{{'крыжик начисл переработка-'+ row.$$hashKey }}" class=" before-yellow-lighten-4 middle purple-text text-darken-3" ng-class="{'through grey-text ': !parseFloat(row['Переработка/сумма']), 'strike-through': !row[name] && Math.abs(parseFloat(row['РасчетЗП/флажок'])) >= 0, }">Да</label>
          </div>
          
          <!-- крыжик для отпускных --->
          <div ng-if="($c.param['общий список'] || $c.param['общий список бригад'] || $c.param['бригада']) && row['показать отпускные']" class="input-field center" ng-style="row['стиль строки объекта']" ng-init=" name = 'Отпускные/начислено' ">
            <div ng-show="$c.ShowSaving(row, name)" ng-include=" 'preloader-circular-small-red-darken-3' " class="absolute z-index-1" style="left:0.7rem;"></div>
            <input type="checkbox" ng-attr-id="крыжик начисл отпуск-{{row.$$hashKey}}" ng-model="row[name]"  ng-click="$c.ConfirmValue(row, name)" ng-true-value="true" ng-false-value="null" ng-checked000="!!row[name]"  ng-disabled="!parseFloat(row['Отпускные/сумма']) || Math.abs(parseFloat(row['РасчетЗП/флажок'])) >= 0  || $c.ShowSaving(row) " ><!--- колбасня не катит ng-disabled="!row['Отпускные/cумма'] || parseFloat(row['РасчетЗП/флажок']) >= 0" -->
            <label for="{{'крыжик начисл отпуск-'+ row.$$hashKey }}" class=" before-yellow-lighten-4 middle yellow-text text-darken-3" ng-class="{'through grey-text ': !parseFloat(row['Отпускные/сумма']), 'strike-through': Math.abs(parseFloat(row['РасчетЗП/флажок'])) >= 0 && !row[name], }">Да</label>
          </div>
          
          <!--div ng-if="!row['объекты']" class="input-field000 center" ng-style="row['стиль строки объекта']">
            <input type="checkbox" ng-attr-id="крыжик выплаты {{$index + '-' + obj.id}}" ng-model="row['Начислено']"  ng-change000="$c.SaveValue(row, 'Начислено') не срабатывает событие но крыжик переключается!!!" ng-click="$c.ConfirmValue(row, 'Начислено')" ng-true-value="true" ng-false-value="null" ng-checked="!!row['Начислено']" ng-disabled="!row['Сумма']">
            <label for="{{'крыжик выплаты ' + $index + '-' + obj.id}}" class="through">Да</label>
          </div-->
          
          <!--- крыжик для  суточных -->
          <div ng-if="($c.param['общий список'] || $c.param['общий список бригад'] || $c.param['бригада']) && row['показать суточные']" class="input-field center" ng-style="row['стиль строки объекта']" ng-init=" name = 'Суточные/начислено' ">
            <div ng-show="$c.ShowSaving(row, name)" ng-include=" 'preloader-circular-small-red-darken-3' " class="absolute z-index-1" style="left:0.7rem;"></div>
            <input type="checkbox" ng-attr-id="крыжик начисл суточ-{{row.$$hashKey}}" ng-model="row[name]"  ng-change000="$c.SaveValue(row, name, undefined, {'объект':0}) не срабатывает событие но крыжик переключается!!!" ng-click="$c.ConfirmValue(row, name)" ng-true-value="true" ng-false-value="null" ng-checked000="!!row[name]" ng-disabled00="!row['Суточные/cумма']" ng-disabled=" !parseFloat(row['Суточные/сумма']) || Math.abs(parseFloat(row['РасчетЗП/флажок'])) >= 0 || $c.ShowSaving(row)" ><!--- колбасня не катит ng-disabled="!row['Суточные/cумма'] || parseFloat(row['РасчетЗП/флажок']) >= 0" -->
            <label for="{{'крыжик начисл суточ-'+ row.$$hashKey }}" class=" before-yellow-lighten-4  middle black-text" ng-class="{'through grey-text ': !parseFloat(row['Суточные/сумма']), 'strike-through': Math.abs(parseFloat(row['РасчетЗП/флажок'])) >= 0 && !row[name], }">Да</label>
          </div>
          
          <div ng-if="row['объекты'] && row._row2"  class="input-field center" ng-style="row['стиль строки объекта']" title="{{ FIO }}&#10;начисление двойнику" ng-init=" name = 'Начислено' ">
            <div ng-show="$c.ShowSaving(row._row2, name, 0)" ng-include=" 'preloader-circular-small-red-darken-3' " class="absolute z-index-1" style="left:0.7rem;"></div>
            <input type="checkbox" ng-attr-id="крыжик выплаты двойника {{row.$$hashKey}}" ng-model="row._row2[name][0]" ng-click="$c.ConfirmValue(row._row2, name, 0)" ng-true-value="true" ng-false-value="null" ng-checked000="!!row._row2[name][0]" ng-disabled="!parseFloat(row._row2['Сумма'][0]) || Math.abs(parseFloat(row._row2['РасчетЗП/флажок'])) >= 0 || Math.abs(parseFloat(row['РасчетЗП/флажок'])) >= 0 || $c.ShowSaving(row._row2)" >
            <label for="{{'крыжик выплаты двойника ' + row.$$hashKey }}" class=" before-yellow-lighten-4 middle " ng-class="{'through grey-text': !parseFloat(row._row2['Сумма'][0]),'green-text text-darken-3': !!parseFloat(row._row2['Сумма'][0]) && !(Math.abs(parseFloat(row._row2['РасчетЗП/флажок']))>=0)  && !(Math.abs(parseFloat(row['РасчетЗП/флажок'])) >= 0), 'blue-text text-darken-3': (Math.abs(parseFloat(row._row2['РасчетЗП/флажок'])) >= 0 || Math.abs(parseFloat(row['РасчетЗП/флажок'])) >= 0), 'strike-through': Math.abs(parseFloat(row['РасчетЗП/флажок'])) >= 0 && !row._row2[name][0],}">Да</label>
          </div>
          
          <div ng-if="Math.abs(parseFloat(row['РасчетЗП/флажок'])) >= 0 " class="nowrap fs12 blue-text text-darken-3 bold right-align" style="border-top: 1px solid;" title="{{ FIO }}&#10;Расчетная сумма в конверт">
              <!---к выплате   -->
              <i class="material-icons" style="padding-right:0.5rem;">local_post_office</i>
              <span class="">{{ (parseFloat(Util.numeric(row['РасчетЗП'] || 0)) + (row._row2 ? (parseFloat(Util.numeric(row._row2['РасчетЗП']) || 0)) : 0) ).toLocaleString('ru-RU') }}</span>
          </div>
          
        </td><!--- конец крыжиков начислений--->
        
        <td>
          <div ng-if="row['объекты']" ng-repeat="o in row['объекты'] | filter: $c.FilterRowObj(obj)  track by $index" class="input-field"  title="{{ FIO }}&#10;{{ row._object[$index].name }}&#10;{{ row['Примечание'][index] }}" ng-init=" index =  row['объекты'].indexOf(o); name = 'Примечание' " ng-style="row['стиль строки объекта']" style="border-bottom: 1px dotted lightgrey;" >
            <div ng-show="$c.ShowSaving(row, name, index)" ng-include=" 'preloader-circular-small-red-darken-3' " class="absolute z-index-1" style="left:0.7rem;"></div>
            <!--textarea ng-hide-000="Math.abs(parseFloat(row['РасчетЗП/флажок'])) >= 0"  ng-model="row['Примечание'][index]" ng-change="$c.SaveValue(row, name, index)" class="materialize-textarea-000" ng-class="{'red-text': $c.ShowSaving(row, name, index), 'truncate': Math.abs(parseFloat(row['РасчетЗП/флажок'])) >= 0}" style="max-height: 2rem; /*overflow: auto;*/ padding: 0px; font-size: 0.7rem; border: none; border-bottom: 1px dotted lightgrey;" ng-disabled="Math.abs(parseFloat(row['РасчетЗП/флажок'])) >= 0"></textarea--->
            <div  class="fs8 truncate nowrap" style="width: 10rem; ">{{ row['Примечание'][index] }}</div>
          </div>
        </td>
      
      </tr>
      <!--($c.refreshReady === undefined || $c.refreshReady) &&  -->
      <tr ng-if=" !$c.param['фильтры']['профили'] " class="footer yellow lighten-4">
        <td colspan="{{ $c.param['общий список'] || $c.param['общий список бригад'] || $c.param['бригада'] ? '4' : '3' }}"><h3 class="right-align">ИТОГО</h3></td>
        <!--td></td>
        <td></td-->
        <!--td ng-if="$c.param['общий список'] || $c.param['общий список бригад'] || $c.param['бригада']"></td-->
        <td title="общая сумма часов по списку"><div  class="fs14 green-text text-darken-3">{{ $c.DataSumTotal('всего часов', obj).toLocaleString('ru-RU') }}</div></td>
        <td title="общая сумма смен по списку"><div class="fs14 green-text text-darken-3">{{ $c.DataSumTotal('всего смен', obj).toLocaleString('ru-RU') }}</div></td>
        <td></td>
        <td></td>
        <!--td ng-if="$c.param['общий список'] || $c.param['общий список бригад'] || $c.param['бригада']"> <!--- Ставка суточ></td-->
        <td></td>
        <td title="общая сумма денег по списку">
          <div class="fs14 green-text text-darken-3 right-align" title="ИТОГО начислено">{{ $c.DataSumTotal('Сумма', obj).toLocaleString('ru-RU') }}</div>
        </td>
        <td>
          <div ng-if="$c.param['общий список'] || $c.param['общий список бригад']"  class="fs14 blue-text text-darken-3 right-align" title="ИТОГО к выплате">{{ $c.DataSumTotal('РасчетЗП', obj).toLocaleString('ru-RU') }}</div>
        </td>
        <td></td>
      </tr>
    
    </tbody>
  </table>

</div>

<!-- Modal Trigger -->
<!--a class="waves-effect waves-light btn" href="javascript:">Modal</a-->
<!-- Modal Structure -->
<div id="modal-detail" class="modal" data-overlay-in="animated fade-in-05" data-overlay-out="animated  fade-out-05 " data-modal-in="animated fadeIn slow--000" data-modal-out="animated zoomOutDown fast" style="width:97%; max-height: 92%; top: 5%;">
  
  <div class="modal-content">
    <!---div class="right"--->
      <a ng-click="$c.CloseModalDetail()" href="javascript:" class="right modal-action modal-close waves-effect waves-green red-text btn-flat z-depth-1">
        <svg  xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="red-fill fill-lighten-3" style="height: 1.5rem;" ><use xlink:href="/fonts/icons.svg#cancel" /></svg>
        <span>Закрыть</span>
      </a>
    <!---/div--->
    <h3 class="row">
      <span  ng-repeat="n in $c.showDetail._profile.names track by $index" class="" style="padding: 0 0.1rem;">{{n}}</span>
      <span class="chip shadow-inset-10 fw500" style="padding:0.5rem;">
        {{ dateFns.format($c.showDetail['месяц'], 'MMMM YYYY', {locale: dateFns.locale_ru}) }}
      </span>
    
    </h3>

    <table class="bordered timework000 z-depth-3">
      <thead>
        <tr class="teal lighten-4">
          <th class="center">Объект</th>
          <th ng-repeat="d in $c.days" class="center" ng-class="{'yellow lighten-3': $c.IsSunSat(d), 'orange-text': dateFns.isToday(d)}"><div ng-repeat="f in $c.FormatThDay(d)">{{f}}</div></th>
          <th class="center red-text text-darken-3">Доп.<br />часы</th>
          <th class="center">Всего<br />часов</th>
          <th class="center">Всего<br />смен</th>
          <th class="center">Суточные<br />дней</th>
          <th class="center">КТУ<br />уч</th>
          <th class="center">КТУ<br />зам</th>
          <th class000="center">Примечание</th>
        </tr>
      </thead>
      <tbody>
        <tr ng-repeat=" (oid, row) in $c.showDetail['табель'] " ng-init="$c.InitDetailRow(oid, row)">
          <td><h5>{{ row._object.name }}</h5></td><!--  ({{ row._object['$проект'].name }})-->
          <td ng-repeat="dd in $c.days" ng-init=" cell = $c.InitDetailCell(row, dd) " class="border middle center" ng-class="{'yellow lighten-3': $c.IsSunSat(dd), 'today':dateFns.isToday(dd)}" title="{{cell._title}}">
          <!--td ng-repeat="call in row.cells"  class="border middle center" ng-class="{'yellow lighten-3': $c.IsSunSat(cell._d), 'today':dateFns.isToday(cell._d)}" title="{{cell._title}}"-->
            <div style="position: relative;">
              <i ng-show="cell['коммент']" class="material-icons fs8 pink-text text-darken-4" style="position: absolute; z-index: 1;right:0; margin:-2px;" title="{{ cell['коммент'] }}">error</i>
              <span>{{ cell['значение'] }}</span>
            </div>
          </td>
          <td class="center red-text text-darken-3"><div ng-hide="!row['Доп. часы замстрой']" class="bold">{{ row['Доп. часы замстрой']['коммент'] }}</div></td>
          <td class="center"><div class="bold">{{ row._total }}</div></td>
          <td class="center"><div class="bold">{{ row._cnt }}</div></td>
          <td class="center"><div class="bold">{{ row['Суточные'] && row['Суточные']['коммент'] }}</div></td>
          <td class="center">{{ (row['КТУ1'] && row['КТУ1']['коммент']) || 1.0 }}</td>
          <td class="center">{{ (row['КТУ2'] && row['КТУ2']['коммент']) || (row['КТУ1'] && row['КТУ1']['коммент']) || 1.0 }}</td>
          <td class="fs8">{{row['Примечание'] && row['Примечание']['коммент']}}</td>
        </tr>
        <tr>
          <td colspan="{{ $c.days.length+2 }}"></td>
          <!--td ng-repeat="d in $c.days"></td-->
          
          <td class="center orange-text text-darken-4 fs14" title="Всего часов на объектах">{{ $c.TotalTabel('_total') }}</td>
          <td class="center orange-text text-darken-4 fs14" title="Всего смен на объектах">{{ $c.TotalTabel('_cnt') }}</td>
          <td class="center"></td>
          <td class="center"></td>
          <td class="center"></td>
          <td class000="center"></td>
        </tr>
      </tbody>
      </table>
    
    <div ng-if="$c.showDetail['параметры расчетов']">
      <!--a ng-click=" add_money = true " href="javascript:" class="btn-flat right blue-text">
        <i class="material-icons">add_box</i>
        <span>Добавить запись ДС</span>
      </a-->
      <money-table data-param="$c.showDetail['параметры расчетов']"></money-table>
      
      <timework-pay-form data-param="$c.showDetail['параметры расчетов']" data-on-close-pay="$c['Закрытие расчета'](item)"></timework-pay-form>
      <div class="relative">
        <h3>&nbsp;</h3><!--- чтобы absolute кнопка -->
        <money-form ng-if000="add_money" data-param="$c.showDetail['параметры расчетов']" data-on-save="$c.ShowDetailOnSaveMoney(data)" data-data-не-катит="$c.showDetail['данные формы ДС']"></money-form>
      </div>
      
      <!-- по доплате --->
      <timework-pay-form ng-if="$c.showDetail['параметры расчетов2']" data-param="$c.showDetail['параметры расчетов2']" data-on-close-pay="$c['Закрытие расчета'](item)"></timework-pay-form>
      <div ng-if="$c.showDetail['параметры расчетов2']" class="relative">
        <h3>&nbsp;</h3><!--- чтобы absolute кнопка -->
        <money-form  data-param="$c.showDetail['параметры расчетов2']" data-on-save="$c.ShowDetailOnSaveMoney(data)" data-data-не-катит="$c.showDetail['данные формы ДС']"></money-form>
      </div>
    </div>
    
    <!--div class="modal-footer000">
      <a href="javascript:" class="modal-action modal-close waves-effect waves-green btn-flat">Закрыть</a>
    </div-->
  </div>
  
</div>



<!-- Modal Trigger -->
<!--a class="waves-effect waves-light btn" href="javascript:">Modal</a-->
<!-- Modal Structure -->
<div id="modal-confirm-checkbox" class="modal" data-overlay-in="animated fade-in-05" data-overlay-out="animated  fade-out-05 fast" data-modal-in="animated slideInDown fast" data-modal-out="animated slideOutUp faster" style="width:50%; max-height: 50%; top:5%;">
  
  <div ng-if="$c['modal-confirm-checkbox']" ng-init="confirm = $c['modal-confirm-checkbox']" class="modal-content">
    <h3>Точно {{ (confirm.idx === undefined && confirm.row[confirm.name]) || (confirm.idx !== undefined && confirm.row[confirm.name][confirm.idx]) ? 'начислить' : 'отменить начисление' }} <span class="chip deep-orange white-text">{{confirm.sum}} руб</span> <span class=" bold fs14 ">➩</span> <span class="chip fw500">{{confirm.row._profile.names.join(' ')}}</span>?</h3>
    
    
  </div>
  <div class="modal-footer teal-lighten-5">
    <a ng-click="$c.ConfirmValueOK()" href="javascript:" class="modal-action modal-close waves-effect waves-green btn-flat white z-depth-1 green-text">ДА</a>
    <a ng-click="$c.ConfirmValueNOT()" href="javascript:" class="modal-action modal-close waves-effect waves-red btn-flat white z-depth-1 red-text float-none" >ОТМЕНА</a>
  </div>
  
</div>

</div>