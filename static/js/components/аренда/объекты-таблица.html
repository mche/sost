@@@ аренда/объекты/таблица

<div><!-- обязательно один корень Vue -->
<v-progress-indeterminate v-show=" !ready " :color=" 'teal' " :message=" 'Загружается...' "></v-progress-indeterminate>

<div v-if=" ready ">
<div>
  <a v-show=" !newObject " @click=" New " href="javascript:" class="btn-flat z-depth-1 blue lighten-4 blue-text text-darken-4" style="position: absolute; top:0.3rem; right:1rem;"><svg  xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64" class="blue-fill fill-darken-4" style="height: 1.5rem;" ><use xlink:href="/fonts/icons.svg#form-add" /></svg> Добавить объект</a>
  <div v-if=" newObject " style-000="position: absolute;  left:-5%;  width:110%; z-index:2;"><v-rent-object-form :item=" newObject " @on-save=" OnSave "></v-rent-object-form></div>
</div>

<!---table class="striped bordered blue lighten-4 z-depth-1 animated slideInUp">

<tbody>
  <tr v-for=" (item, idx) in data " :key=" item.id " class="relative" :class="{'selected': item === selectedObject}">
    <td class="vtop padd-05" style="width:calc(20vw)"--->
<div v-for=" (item, idx) in data " :key=" item.id " class="relative card padd-05 blue lighten-4 animated slideInUp" :class="{'selected': item === selectedObject}">
      <h4 :class="{'bold': item._edit}" class="fw500 line-height-10 card-title padd-05" style=""><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 1000" style="height: 1.2rem;" class="blue-fill-darken-3"><use xlink:href="/fonts/icons.svg#realty-1"></use></svg>  <a @click=" Edit(item) " href="javascript:void('редактировать объект аренды') " class="hover-shadow3d blue-text text-darken-3" title="редактировать объект аренды">{{ (item['$объект'] && item['$объект'].name) || item['адрес'] }}</a></h4>
      <!--div v-show="item['коммент'] && !!item['коммент'].length " class="chip width100 truncate pre-wrap fs8 grey-text-000 line-height-10" style="height:2rem;" :title=" item['коммент'] ">{{ item['коммент'] }}</div-->
      
      <div v-if=" item._edit " style="position: absolute; left:-5%; width:110%; z-index:2;"><v-rent-object-form :item=" item._edit " @on-save=" OnSave "></v-rent-object-form></div>
    <!--/td>
    <td class="vtop padd-05 relative" style="width:60%;" :style=" item['@кабинеты'].length > 1 ? {'padding-top':'2rem !important'} : {}"-->
    <div class="card-content padd-05 relative" style="">
      <!--div v-show="item['@кабинеты'].length > 1" style="position:absolute; top:0.3rem;">
        <a @click=" SortItemRoomsIndexes(item) " href="javascript:" class="chip hoverable padd-0-02 z-depth-1 lime darken-3 white-text" title="сортировать по номеру"><i class="material-icons">sort</i></a>
      </div--->
      <div style="position: absolute; top: 0.5rem; right: 0.5rem; z-index: 1;">
        <a @click="ToggleRooms(item)" href="javascript:" class="chip lime darken-3  white-text hoverable padd-0 z-depth-1" title="развернуть/свернуть строки помещений"><i class="material-icons" :class="{'rotate180': !!item._expandRooms}">arrow_drop_down</i></a>
      </div>
      
      <div>
        <h6 class="fw500 helmet tab-shadow  " :class="{'active z-depth-1 lime lighten-4 marg-0-05': !item.showLiter, 'grey-lighten-2 hover-white': !!item.showLiter}" style="    margin-bottom: 0.4rem !important;">
          <a @click="ShowLiter(item)" href="javascript:" class="lime-text text-darken-4 hover-shadow3d">
            <span>Все лит.</span>
            <sup class="chip fs8">{{ item['@кабинеты'].length }}</sup>
          </a>
        </h6>
        <h6 v-for="liter in item['@литеры']" :key="liter.id" class="fw500 helmet tab-shadow   " :class="{'active z-depth-1 lime lighten-4 marg-0-05':  liter === item.showLiter, 'grey-lighten-2 hover-white': liter !== item.showLiter}" style="    margin-bottom: 0.4rem !important;">
          <a @click="ShowLiter(item, liter)" href="javascript:" class="lime-text text-darken-4 hover-shadow3d">
            <span>лит. {{ liter.title }}</span>
            <sup v-show="liter === item.showLiter" class="chip fs8">{{ item.roomsIndexes.length }}</sup>
          </a>
        </h6>
      </div>
      
      
      <div class="row" :style="item._expandRooms ? {} : {'max-height':'10rem', 'overflow':'auto',}">
      <table class="bordered striped lime lighten-4 highlight"><tbody>
      <!---in (item.rooms || item['@кабинеты'])  вместо самого массива помещений используется массив сортировки индексов  --->
        <tr v-for="idx in item.roomsIndexes" :key="item['@кабинеты'][idx].id">
          <td style="">
            <div class="nowrap truncate000 lime-text-darken-4 line-height-10" style="/*width:10rem;*/">
              <span class="fs8 grey-text">№ </span><span class="bold">{{ item['@кабинеты'][idx]['номер-название'] }}</span>
              <!--span v-show="!!item['@помещение в договоре аренды'][idx]" class="chip red padd-05">&nbsp;</span-->
              <span v-if="!!item['@помещение в договоре аренды?'][idx]" class="hover-childs-show relative">
                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="teal-fill fill-darken-3 " style="height: 1rem;"><use xlink:href="/fonts/icons.svg#handshake" /></svg>
                <!---sup class="chip">{{ item['@аренда/договоры'][idx].length }}</sup--->
                <div class="hover-parent-show-block card padd-05 teal-lighten-4 animated fadeIn fast" style="position:absolute; top:-0.3rem; left:1rem; z-index:1;">
                  <h5 class="card-title-000"><!--i class="icon-left fs8 " style="position:absolute; top:1rem; left:-0.5rem;"></i-->Договоры по помещению <span class="bold">{{ item['@кабинеты'][idx]['номер-название'] }}</span></h5>
                  <ul class="card-content padd-0 fs8">
                    <li v-for="d in item['@аренда/договоры'][idx]" class="nowrap teal-text text-darken-3">
                      <a @click="GoToContract(d.id)" href="javascript:" :href000=" `#contract-${ d.id }`" class="hover-shadow3d">
                        <span class="chip nowrap" :title=" d['дата1'] ">
                          <span class="fs8 grey-text">c </span>
                          <span class="bold"> {{ d.$дата1.day }} </span>
                          <span class="fs8"> {{ d.$дата1['мес'] }} </span>
                          <span v-show="(new Date).getYear()+1900 != d.$дата1.year"> {{ d.$дата1.year }} </span>
                          <span v-if="!d['продление срока'] || !!d['дата расторжения']"  :title=" d['дата?'] ">
                            <span class="fs8 grey-text"> по </span>
                            <span class="bold"> {{ d.$дата2.day }} </span>
                            <span class="fs8"> {{ d.$дата2['мес'] }} </span>
                            <span v-show="(new Date).getYear()+1900 != d.$дата2.year"> {{ d.$дата2.year }} </span>
                          </span>
                          <span v-else >с продлением</span>
                        </span>
                        <span class="chip ">№ {{ d['номер'] }}</span>
                        <span class="chip"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" class="  teal-fill fill-darken-3" style="height: 1rem;"><use xlink:href="/fonts/icons.svg#contragent"></use></svg> {{ d['контрагент/title'] }}</span>
                      </a>
                    </li>
                  </ul>
                </div><!--- конец списка договоров -->
              </span>
            </div>
          </td>
          <td v-if="!item.showLiter" class="nowrap" style="width:1%;">
            <span class="fs8 grey-text">лит. </span>
            <span class="lime-text-darken-4 line-height-10">{{ item['@кабинеты'][idx].$литер.title }}</span>
          </td>
          <td class="right-align" style="width:3%;">
            <div class="nowrap lime-text-darken-4 line-height-10" style="">
              <span class="bold">{{ item['@кабинеты'][idx]['этаж'].toString().replace(/-1/, 'подв.').replace(/0/, 'цок.') }}</span>
              <span class="fs8 grey-text"> эт.</span>
            </div>
          </td>
          <td class="right-align" style="width:3%;">
            <div class="nowrap lime-text-darken-4 line-height-10" style="">
              <span class="bold">{{ ParseNum(item['@кабинеты'][idx]['площадь']).toLocaleString() }} </span>
              <span class="fs8 grey-text"> м<sup>2</sup></span>
            </div>
          </td>
          <td style="width:calc(20vw);"><span v-show="!!item['@кабинеты'][idx]['коммент']" class="padd-0-05 truncate pre-wrap fs8 grey-text middle line-height-8" style="max-height:2rem;" :title=" item['@кабинеты'][idx]['коммент'] ">{{ item['@кабинеты'][idx]['коммент'] }}</span></td>
        </tr>
      </tbody></table>
      </div>
      <h4 class="chip  right-align" style="">
        <!--span @click="ToggleRooms(item)" href="javascript:void('развернуть строки помещений/кабинетов')" title="развернуть строки помещений/кабинетов" class="black-text hover-shadow3d"-->Итого площадь <span class="bold fs12">{{ SumSquare(item).toLocaleString() }}</span> м² <!--i class="material-icons">arrow_forward</i></span-->
        <!-- в <span class="bold fs12">{{ item['@кабинеты'].length }}</span> помещениях -->
      </h4>
    </div><!--card-content -->
</div><!--card -->
    <!--/td>
    
  </tr>
</tbody>
</table--->

</div>
</div>