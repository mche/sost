@@@ аренда/объект/форма

<div v-if="ready" class="card z-depth-5 teal lighten-4 animated zoomIn fast">

<!--div class="hide">{{ vm = {"вап": 1} }}</div-->

<div class="card-content">
  <div class="row relative">
    <a @click=" CancelBtn()" href="javascript:" class="btn-flat z-depth-1 red-text lighten-2" style="position:absolute; right:0;">
      <i class="material-icons">cancel</i><span>Отмена</span>
    </a>
    <h3 class="fw500">
      <!--i ng-show=" !$c.data['перемещение'] " class="icon icon-star fs14"></i-->
      <i v-show=" !form.id " class="material-icons ">star</i>
      <span v-show=" !form.id " >Новый объект аренды</span>
      
      <i v-show=" form.id " class="material-icons ">edit</i>
      <span v-show=" form.id " >Редактировать объект аренды</span>
      
      <span v-show="form.id" class="grey-text fs8">#{{form.id}}</span>
    </h3>
    <div class="divider teal darken-4" style="margin-bottom: 1rem;"></div>
  </div>

    <div class="row">
      <div class=" col s12 ">
        <h4 class="">
          <i class="material-icons fs18">place</i>
          <span>Объект</span>
        </h4>
        <v-object-select :select=" form['$объект'] " @on-select-object=" SelectObject "></v-object-select>
        <!--div class="input-field">
          <input type="text" v-model=" form['адрес'] ">
        </div--->
      </div>
    </div>
    
    <div class="row"><div class=" col s12 relative">

      <h4 class="fw500 helmet tab-shadow active z-depth-1  lime lighten-4">
        <i class="material-icons">format_list_numbered</i>
        <span>Помещения и кабинеты объекта</span>
        <sup class="chip ">{{ form['@кабинеты'].length }}</sup>
      </h4>
      
      <div style="position:absolute; top:0.5rem; right:0.5rem; z-index:1;"><a @click="expandRooms = !expandRooms" href="javascript:" class="chip hoverable padd-0"><i class="material-icons" :class="{'rotate180': expandRooms}">arrow_drop_down</i></a></div>
      
      <div style="overflow:auto;" :style="expandRooms ? {} : {'max-height': 'calc(30vh)'}"><table class="tmc top striped bordered lime lighten-4 z-depth-1">
        <thead class=""><tr>
          <th style="width:1%;"></th>
          <th class="center vbottom" style="width:1%;">
            <a v000-show="!form.id" @click=" AddRoom(0) " href="javascript:" class="btn-flat" style="padding: 0;" title="добавить">
              <i class="material-icons lime-text-darken-3 fs18">add_box</i>
            </a>
          </th>
          <th class="center vbottom" style="width:5%;">
            <br><!-- отступ-->
            <h5 class="fw500 relative">
              <span>№ или<br>название</span>
              <sup v-show=" !ValidRooms('номер-название') " class="chip red white-text" style="position: absolute; z-index: 1; top:0;padding:0.3rem;"></sup>
            </h5>
          </th>
          <th class="center vbottom" style="width:10%;">
            <h5 class="fw500 relative">
              <span>Этаж</span>
              <sup v-show=" !ValidRooms('этаж') " class="chip red white-text" style="position: absolute; z-index: 1; top:0;padding:0.3rem;"></sup>
            </h5>
          </th>
          <!--th class="center" style="width:5rem;">Ед. изм.</th-->
          <th  class="center vbottom" style=" width:7%;">
            <h5 class="fw500 relative">
              <span>Площадь</span>
              <sup v-show=" !ValidRooms('площадь')" class="chip red white-text" style="position: absolute; z-index: 1; top:0;padding:0.3rem;"></sup>
            </h5>
          </th>
          <th class="center vbottom" style="width:12%;">
            <h5 class="fw500">
              Примечание
            </h5>
          </th>
        </tr></thead>
      <tbody >
        <tr v-for="(room, index) in form['@кабинеты'] " :key=" index " :id=" `room-index-${ index }` ">
          <td class="right-align relative" style=" vertical-align:middle;">
            <span>{{ index+1 }}</span>
            <span v-show=" !!room.id " class="fs7 grey-text" style="position: absolute; z-index: 1; bottom:0; left:0;">#{{ room.id }}</span>
          </td>
          <td class="center middle" style="">
            <div class="hover-childs-show relative">
              <span class="chip padd-0 hover-parent-hide-child"><i class="material-icons">more_horiz</i></span>
              <span class="chip padd-0-05 nowrap hover-parent-show-inline absolute animated fadeIn" style="left:0rem; top:-1rem; z-index:1;">
                <a v-show=" ValidRoom(room) "  @click=" CopyRoom(room)" href="javascript:" class="btn-flat padd-0 " style="" title="копировать">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30" class="green-fill fill-darken-3 ng-scope" style="height: 1.2rem;"><use xlink:href="/fonts/icons.svg#copy"></use></svg>
                </a>
                <a @click=" DeleteRoom(room) " href="javascript:" class="btn-flat padd-0" style="" title="удалить">
                  <i class="material-icons red-text-darken-3  ">delete_forever</i>
                </a>
                <a v000-show=" index == form['@кабинеты'].length - 1 || !form.id" @click=" AddRoom(index+1) " href="javascript:" class="btn-flat padd-0" style="" title="добавить">
                  <i class="material-icons lime-text-darken-3 ">add_box</i>
                </a>
              </span>
            </div>
          </td>
          <td class="padd-05">
            <div class="input-field">
              <input  type="text" v-model="room['номер-название']" placeholder="номер | название" class="right-align" style="">
            </div>
          </td>
          <td class="padd-05">
            <div class="input-field">
              <input  type="text" v-model="room['этаж']" placeholder="этаж" class="right-align" style="">
            </div>
          </td>
          <td class="padd-05">
            <div class="input-field">
              <input  type="text" v-model="room['площадь']" placeholder="площадь, м²" class="right-align" style="">
            </div>
          </td>
          <td class="padd-05">
            <div class="">
              <div class="input-field">
                <textarea v-model=" room['коммент'] " class="materialize-textarea fs8" style="font-size:0.8rem; padding:0; min-height: 2rem; /*max-width:5rem;*/"></textarea>
              </div>
            </div>
          </td>
        </tr></tbody>
      </table></div>
    
    </div></div><!-- col+row -->
    
    <div class="row">
      <h4>Примечание объекта</h4>
      <div class="col s12 m8">
        <div class="input-field card padd-05 teal lighten-5 " style="">
          <textarea v-model=" form['коммент'] " class="materialize-textarea" style="font-size:0.8rem; padding:0; min-height: 5rem;"></textarea>
        </div>
      </div>
    </div>
    
      <!--div class="">{{ form }}</div-->
</div>

<div class="card-action center">
  <v-progress-indeterminate v-show=" cancelerHttp " :color=" 'teal' " :message=" 'Загружается...' "></v-progress-indeterminate>
      <div v-show="!cancelerHttp">
        <a @click=" Save() " href="javascript:" :disabled="!Valid()" class="btn" >
          <i class="material-icons">save</i>
          <span>Сохранить</span>
        </a>
        <a v-show=" form.id " class="btn red lighten-3" href="javascript:" @click=" Remove "  title=""> <i class="material-icons white-text">delete</i> <span class="white-text">Удалить</span> </a>
        <a @click=" CancelBtn() " href="javascript:" class="right btn-flat z-depth-1 red-text white">
          <svg  xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="red-fill" style="height: 1.5rem;" ><use xlink:href="/fonts/icons.svg#cancel" /></svg>
          <span>Отмена</span>
        </a>
    </div>
</div>

</div>