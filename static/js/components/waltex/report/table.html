<div ng-hide="$ctrl.ready" ng-include=" 'progress/load' "></div>

<!--div>{{ $ctrl.data['строки'] | json }}</div-->

<table ng-if="$ctrl.ready" class="report bordered striped000 highlight">
  <thead>
    <tr>
      <th class="right-align"><span ng-show="$ctrl.data['сальдо']['начало']">На {{ $ctrl.param['дата']['формат'][0] }}</span></th>
      <th ng-repeat="th in $ctrl.data['колонки']" class="right-align">{{th}}</th>
      <th class="right-align">Всего</th>
    
    </tr>
  </thead>
  <tbody>
    <tr ng-repeat="tr in $ctrl.data['строки']" ng-class="{'yellow lighten-3': tr.sign < 0, 'green lighten-3': tr.sign > 0}" ng-style="$ctrl.TrStyle(tr)">
      <td ng-style="$ctrl.TitleStyle(tr)">
        <h4><a ng-click="$ctrl.ToggleRow(tr, $index)" href="javascript:" >
            
            <span>{{tr.title}}</span>
            <i ng-if=" tr.title == 'приход' " class="material-icons">add_circle_outline</i>
            <i ng-if=" tr.title == 'расход' " class="material-icons">remove_circle_outline</i>
        </a></h4>
      </td>
      <td ng-repeat="td in $ctrl.data['колонки']" ng-class="{'right-align': !tr['колонки'][td].id}">
        <span ng-if="!tr['колонки'][td].id">{{ tr['колонки'][td] }}</span>
        <!-- финальная позиция -->
        <a     ng-if=" tr['колонки'][td].id" ng-click="$ctrl.ShowItem(tr['колонки'][td])" href="javascript:" style="display:block;">
          <span>{{ tr['колонки'][td]['дата_формат'] }}</span>
          <span class="right">{{tr['колонки'][td]['sum']}}</span>
        </a>
      </td>
      <td class="right-align">{{ tr['всего'] }}</td>
    </tr>
    <tr class="fs12 indigo lighten-4">
      <td class="">
        <span ng-class="{'right': !$ctrl.data['сальдо']['начало']}">Сальдо</span>
        <span ng-show="$ctrl.data['сальдо']['начало']" class="right">{{ $ctrl.data['сальдо']['начало'] }}</span>
      </td>
      <td ng-repeat="td in $ctrl.data['колонки']" class="right-align">{{$ctrl.data['сальдо']['колонки'][td]}}</td>
      <td class="right-align">{{$ctrl.data['сальдо']['всего']}}</td>
    
    </tr>
  
  </tbody>
</table>


 <!-- Modal Structure -->
<div ng-if="$ctrl.ready" id="show-item" class="card modal" style="width:100%;">
    <money-form ng-if="$ctrl.paramFormItem" data-param="$ctrl.paramFormItem" class="modal-content"></money-form>
  <!--div class="modal-footer">
    <a href="#!" class="modal-action modal-close waves-effect waves-green btn-flat">Agree</a>
  </div-->
</div>
