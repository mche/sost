
@@@ tmc/ask/form

<div ng-hide="$ctrl.ready" ng-include=" 'progress/load' "></div>

<div ng-if=" $ctrl.param.edit && $ctrl.param.edit._init " ng-init="$ctrl.Edit()" ng-show="0"></div><!---  Наблюдать для обновления контекста -->

<div ng-if="$ctrl.ready">
  
  <div ng-if111="$ctrl.param['объект']">
    <div ng-hide="$ctrl.data && $ctrl.data._new" class="" style="position: absolute; top: 0; right: 0"><a class="btn" ng-click="$ctrl.New()" href="javascript:">
      <i class="material-icons">note_add</i>
      <span>Новая заявка</span>
      
    </a></div>
    
    <!--div>{{ $ctrl.param | json }}</div-->
    
    <div ng-if="$ctrl.data" class="card teal lighten-5">
      
    <div class="card-content">
    
      <a ng-click="$ctrl.CancelBtn()" href="javascript:" class="right btn-flat orange-text">
        <i class="material-icons">cancel</i>
        <span>Отмена</span>
      </a>

      <h3 ng-hide="$ctrl.data.id" class="orange-text">Новая заявка-требование на поставку ТМЦ</h3>
      <h3 ng-show="$ctrl.data.id" class="green-text text-darken-3">Редактировать заявку-требование на поставку ТМЦ</h3>
      <div class="divider  row" ng-class="{'green darken-3': $ctrl.data.id, 'orange': !$ctrl.data.id}"></div>
      <!--div>{{ $ctrl.data | json }}</div-->
      
      <div class="row">
        <h4 class="col s3  right-align000">
          <i class="material-icons">today</i>
          <span>Требуется на дату</span>
        </h4>
        <div class="col s3 input-field">
          <input name="date" type="text" class="datepicker"  data-value="{{ $ctrl.data['дата1'] }}" placeholder000=""  style000="padding-left: 3rem; margin-left: 0px;">
        </div>
      </div>
      
      <table><tbody><tr class00="row" style="">
        <td class="vbottom" style="width:50%; padding: 0 0.5rem;">
          <h4 class="">
            <i class="material-icons "></i>
            <span>Наименование ТМЦ</span>
          </h4>
          <div class="input-field">
            <nomen-item data-data="Nomen" data-on-focus-field000="$ctrl.FocusRow(row)"></nomen-item>
          </div>
        </td>
      
        <td class="vbottom" style="width:25%; padding: 0 0.5rem;">
          <h4 class="">
            <i class="material-icons "></i>
            <span>Количество</span>
          </h4>
          <div class="input-field">
            <input  type="text" ng-model="$ctrl.data['количество']" ng-change000="$ctrl.ChangeKol($last, row)" ng-focus000="$ctrl.FocusRow(row)" placeholder="кол-во" class="right-align">
          </div>
        </td>
        
        <td class="vbottom" style="width:25%; padding: 0 0.5rem;">
          <h4 class="">
            <i class="material-icons "></i>
            <span>Единицы изм.</span>
          </h4>
          <div class="input-field">
            <input  type="text" ng-model="$ctrl.data['ед']" ng-focus00="$ctrl.FocusRow(row)" placeholder="единицы" class="">
          </div>
        </td>
      </tr></tbody></table>

      <div class="input-field">
        <h5>Примечание</h5>
        <textarea ng-model="$ctrl.data['коммент']" class="materialize-textarea fs8" style="padding:0;"></textarea>
      </div>
      
      <div ng-show="$ctrl.error" class="red-text">{{ $ctrl.error }}</div>
      <div ng-show="$ctrl.cancelerHttp" ng-include=" 'progress/save' "></div>
    
    </div>
    <div class="card-action center">
      <a class="btn" ng-click="$ctrl.Save($ctrl.data)" href="javascript:" ng-disabled="!$ctrl.Validate($ctrl.data)">
        <i class="material-icons">save</i>
        <span>Сохранить</span>
      </a>
      <a ng-if="$ctrl.data.id" class="btn red" ng-click="$ctrl.Delete()" href="javascript:">
        <i class="material-icons">delete_forever</i>
        <span>Удалить</span>
      </a>
    </div>
    </div>
  
  </div>


</div>