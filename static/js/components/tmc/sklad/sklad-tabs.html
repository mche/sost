@@@ tmc/sklad/tabs


<div ng-hide="$ctrl.ready" ng-include=" 'progress/load' "></div>

<ul ng-if="$ctrl.ready" class="" style="margin:0;">
  <li ng-repeat="t1 in $ctrl.tabs | orderBy: $ctrl.OrderByTab1" class=" grey lighten-2" ng-class="{'right-align shadow-inset-10-000 ': $ctrl.tab && $ctrl.tab._parent && $ctrl.tab._parent !== t1,  ' z-depth-3 ':  $ctrl.tab && $ctrl.tab._parent && $ctrl.tab._parent === t1,}" ng-style="$ctrl.tab && $ctrl.tab._parent && $ctrl.tab._parent === t1 && {'margin-top':'1rem'} ">
    <h3 class="iblock vtop right-align" ng-class="$ctrl.TabLiClass(t1)" style="height:50px; line-height:50px; padding:0 0.7rem; margin-right: -0.3rem; width:15rem;">
      <svg ng-show=" t1.title == 'Движение' " xmlns="http://www.w3.org/2000/svg" viewBox="0 5 50 50" class="" ng-class="t1.svgClass" style="height: 2rem;"><use xlink:href="/fonts/icons.svg#truck"></use></svg>
      <svg ng-show=" t1.title == 'Завершено' " xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" ng-class="t1.svgClass" style="height: 1.5rem;"><use xlink:href="/fonts/icons.svg#checked1"></use></svg>
      <!--svg ng-show=" t1.title == 'Перемещения' "  xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" class="rotate90left" ng-class="t1.svgClass" style="height: 1.5rem;" ><use xlink:href="/fonts/icons.svg#2arrows-180vert" /></svg-->
      <span>{{ t1.title }}</span>
    </h3>
    <ul class="iblock vtop tabs tabs-transparent grey lighten-3" style="margin:0; width:auto;">
      <li ng-repeat="t2 in t1.childs" class="tab-overline z-depth-3 " ng-class="$ctrl.TabLiClass(t2)" ng-init="t2._parent = t1">
        <h4><a ng-click="$ctrl.SelectTab(t2)" href="javascript:" ng-class="$ctrl.TabAClass(t2)" class="hvr-overline-from-center">
          <svg ng-show=" t2.title == 'Заявки ТМЦ' " xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" ng-class="t2.svgClass" style="height: 1.5rem;"><use xlink:href="/fonts/icons.svg#!sign-round-fill" /></svg>
          <svg ng-show=" t2.title == 'Входящие' " xmlns="http://www.w3.org/2000/svg" viewBox="0 0 26 26" ng-class="t2.svgClass" style="height: 1.2rem;"><use xlink:href="/fonts/icons.svg#to-location" /></svg>
          <svg ng-show=" t2.title == 'Перемещения' " xmlns="http://www.w3.org/2000/svg" viewBox="0 0 26 26" ng-class="t2.svgClass " style="height: 1.2rem;"><use xlink:href="/fonts/icons.svg#from-location" /></svg>
          <svg ng-show=" t2.title == 'Остатки' " xmlns="http://www.w3.org/2000/svg" viewBox="0 0 26 26" ng-class="t2.svgClass " style="height: 1.5rem; /*border: 2px solid;*/"><use xlink:href="/fonts/icons.svg#plus-minus" /></svg>
          <i ng-show=" t2.title == 'Поступило' " class="material-icons fs14">add_circle_outline</i>
          <i ng-show=" t2.title == 'Перемещено' " class="material-icons fs14">remove_circle_outline</i>
          <i ng-show=" t2.title == 'Инвентаризации' "class="icon icon-star fs14"></i>
          <span>{{t2.title}}</span>
          <sup class="chip000 fs8 middle grey000 white-text000 bold000" style="">{{ $ctrl.TabLen(t2) || '' }}</sup>
        </a></h4>
      </li>
    
    </ul>
  </li>
</ul>

<div ng-repeat="name in ['заявки', 'инвентаризации', 'простые поставки'] track by $index" ng-show="$ctrl.tab && $ctrl.tab.data == name && !$ctrl.data[name].LoadStatus()" ng-include=" 'progress/load' "></div>
<div ng-show="$ctrl.tab && $ctrl.tab.data == 'снаб' && !$ctrl.data['снаб'] " ng-include=" 'progress/load' "></div>

<!-- обработка заявок -->
<div ng-if="$ctrl.tab && $ctrl.tab.title == 'Заявки ТМЦ' ">
  <!--div ng-hide="!$ctrl.cancelerHttpAsk" ng-include=" 'progress/load' "></div-->
  <tmc-ask-table  ng-init=" param = {'объект': $ctrl.param['объект'], 'фильтр': $ctrl.tab['фильтр'], 'theadClass': $ctrl.tab.liClass, 'tbodyClass': $ctrl.tab.tbodyClass, 'в закупку': false, 'в перемещение':false, 'список простых закупок': false, title000: 'Обработать заявки', 'обработать номенклатуру': false,} " data-data=" $ctrl.data['заявки'] " data-param=" param "></tmc-ask-table>
  
  <!--div ng-show="$ctrl.cancelerHttpAsk" ng-include=" 'progress/load' "></div>
  <div class="center">
      <span>записей: {{ $ctrl.data['заявки'].length }}</span>
      <a ng-show="$ctrl.data['заявки'].length >= 100" class="btn-flat z-depth-1" ng-click="$ctrl.LoadDataAsk(true)" href="javascript:">
        <i class="material-icons">file_download</i>
        Показать еще записи
      </a>
  </div-->
</div>

<tmc-sklad-inv-form  ng-if="$ctrl.tab" ng-show="$ctrl.tab.title == 'Инвентаризации' " ng-init=" param = {'объект': $ctrl.param['объект'],} " data-param=" param "></tmc-sklad-inv-form>

<tmc-sklad-inv-table ng-if="$ctrl.tab" ng-show="$ctrl.tab.title == 'Инвентаризации' " ng-init=" param = {'объект': $ctrl.param['объект'], 'фильтр': $ctrl.tab['фильтр'], tableClass: $ctrl.tab.liClass } " data-param=" param " data-data=" $ctrl.data['инвентаризации'] " data-on-edit-000="$ctrl.EditInv(data)"></tmc-sklad-inv-table>

<!-- форма перемещения из этого объекта -->
<tmc-baza-form ng-if=" $ctrl.tab && ($ctrl.tab.title == 'Перемещения' || $ctrl.tab.title == 'Перемещено-000' ||  $ctrl.tab.title === 'Поступило' || $ctrl.tab.title == 'Остатки') " ng-init=" param = {'объект': $ctrl.param['объект'], 'перемещение': true} " data-param=" param "></tmc-baza-form>

<tmc-snab-table ng-if="$ctrl.tab && ($ctrl.tab.title === 'Перемещения' || $ctrl.tab.title == 'Перемещено') " ng-init=" param = {'объект': $ctrl.param['объект'], 'фильтр': $ctrl.tab['фильтр'], 'фильтр тмц': $ctrl.tab['фильтр тмц'], tableClass: $ctrl.tab.liClass} " data-param=" param " data-data=" $ctrl.data['снаб'] " data-on-edit-ask="$ctrl.EditMove(ask)"></tmc-snab-table>

<!--- с событием крыжика принятия ТМЦ --->
<tmc-snab-table ng-if=" $ctrl.tab && ($ctrl.tab.title == 'Входящие' || $ctrl.tab.title == 'Поступило') " ng-init=" param = {'объект': $ctrl.param['объект'], 'фильтр': $ctrl.tab['фильтр'], 'фильтр тмц': $ctrl.tab['фильтр тмц'], 'ТМЦ/крыжик позиций/событие': 'ТМЦ/крыжик позиций/событие', tableClass: $ctrl.tab.liClass} " data-param=" param " data-data=" $ctrl.data['снаб'] "></tmc-snab-table>


<!--- Остатки--->
<tmc-ostat-table ng-if="$ctrl.tab && $ctrl.tab.title == 'Остатки' " ng-init=" param = {'объект': $ctrl.param['объект'],} " data-param=" param " data-data="$ctrl.data['остатки']"></tmc-ostat-table>