@@@ tmc/snab/form-easy

<div ng-if="!$c.ready" ng-include=" 'progress/load' "></div>

    
<div ng-if-000="$c.data" ng-if="$c.ready" ng-init-000="$c.InitData($c.data)" class="card maroon lighten-4 animated zoomIn">
  
<div class="card-content">

  <a ng-click="$c.Cancel()" href="javascript:" class="right btn-flat z-depth-1 red-text white shadow-inset-10-000">
    <svg  xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="red-fill fill-lighten-3" style="height: 1.5rem;" ><use xlink:href="/fonts/icons.svg#cancel" /></svg>
    <span>Отмена</span>
  </a>
  
  <h3 class="maroon-text">
    <span>Простая закупка ТМЦ</span>
  </h3>
  <div class="divider  maroon"  style="margin-bottom: 1rem;"></div>
  
  <div class="row" style="">
  
    <div class="input-field col s12 m3">
      <h4 class="maroon-text fw500">Объект-получатель <span class="white-text fs8">(без прихода)</span></h4>
      <h4 class="leaf z-depth-1 orange darken-3 white-text">★ {{  $c.data['$тмц/заявка']['$объект'].name }}</h4>
    </div>
  
    <div class="input-field col s12 m9">
      <h4 class="maroon-text fw500">
        <span class="">Наименование</span>
        <sup ng-show=" !$c.ValidNomen() " class="chip-000 circle padd-0-05 red white-text bold z-depth-1" style="" title="нужно 4 уровня">!</sup>
        <span ng-show="$c.data['$тмц/заявка']" class="right000 chip shadow-inset-10 padd-0-05-000 orange lighten-4 teal-text-darken-3" title="из заявки">{{ $c.data['$тмц/заявка']['наименование'] }}</span>
      </h4>
      <!--div class="pre-wrap">{{ $c.data['$номенклатура'] | json }}</div-->
      <div class="block chip z-depth-3" style="padding:0.5rem;">
        <tree-item data-param="{'placeholder': 'выбрать или новая позиция справочника', 'selectedItemClass': ' chip padd-0-05-000 shadow-inset-10 brown-text ', }" data-item="$c.data['$номенклатура']" data-data=" $c['@номенклатура'] "></tree-item>
      </div>
      
      
      
    </div>
  
  </div>
  
  <div class="row" style="margin:0;">
  
    <div class="col s12 m4 "><div class="card maroon lighten-5"><div class="card-content">
      <div class="grey-text fs8 right" style-000="position: absolute; z-index: 1; top:0; right:0;" title="ид строки тмц">{{ $c.data['$строка тмц/поставщик'].id }}</div>
      <h4 class="leaf maroon white-text fw500"><i class="icon-left before-rotate90left"></i>Поставщик</h4>
      <contragent-item ng-init=" $c.data['$строка тмц/поставщик']['$контрагент'] = $c.data['$строка тмц/поставщик']['$контрагент'] || {}" data-item="$c.data['$строка тмц/поставщик']['$контрагент']" data-param="{}" data-on-select--000="$c.OnSelectContragent4(item)" class="block row000" style="margin-bottom:1rem;"></contragent-item>
      
      <h4 class="maroon-text">Количество от поставщика</h4>
      <div  class="input-field row" ng-init=" $c.data['$строка тмц/поставщик']['количество'] = ($c.ask && $c.ask['количество/докупить']) || $c.data['$строка тмц/поставщик']['количество']" title=" {{ $c.data['$тмц/заявка'] | json }} ">
        <a ng-hide="!$c.data['$строка тмц/поставщик']['количество']" ng-click="$c.data['$строка тмц/поставщик']['количество']= undefined " href="javascript:" class="remove-siblings" style="right: 0; position: absolute; z-index: 1; top:0.2rem;">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="red-fill fill-lighten-3" style="height: 1.5rem;"><use xlink:href="/fonts/icons.svg#cancel"></use></svg>
      </a>
        <input type="text" ng-model="$c.data['$строка тмц/поставщик']['количество']" placeholder="получено от поставшика" class000="maroon-text" >
      </div>
      
      
      <h5 class="maroon-text">Примечание</h5>
      <div class="input-field">
        <textarea ng-model="$c.data['$строка тмц/поставщик']['коммент']" class="materialize-textarea fs8" style="font-size:0.8rem; padding:0; min-height: 2rem;"></textarea>
      </div>
    
    </div></div></div>
  
    <div class="col s12 m4 "><div class="card red lighten-3"><div class="card-content">
      <div class="grey-text fs8 right" style-000="position: absolute; z-index: 1; top:0; right:0;" title="ид строки тмц">{{ $c.data['$строка тмц/с базы'].id }}</div>
      <h4 class="leaf red darken-3 white-text fw500">
        <i class="material-icons ">remove_circle_outline</i>
        С базы/объекта
      </h4>
      <object-address data-data=" $c.data['$строка тмц/с базы']['$объект'] " data-param="{'placeholder': 'указать базу/объект', 'без проекта000': true,}" data-on-focus=" $c.OnFocusBase1(ctrl) " class="block row"></object-address>
      <!--a class="btn-flat red-text">C базы (списать)</a-->
      <h4 class="red-text text-darken-3">Количество <span class="white-text fs8">(расход на заявку)</span></h4>
      <div class="input-field row">
        <a ng-hide="!$c.data['$строка тмц/с базы']['количество']" ng-click="$c.data['$строка тмц/с базы']['количество']= undefined " href="javascript:" class="remove-siblings" style="right: 0; position: absolute; z-index: 1; top:0.2rem;">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="red-fill fill-lighten-3" style="height: 1.5rem;"><use xlink:href="/fonts/icons.svg#cancel"></use></svg>
      </a>
        <input type="text" ng-model="$c.data['$строка тмц/с базы']['количество']" placeholder="получено с базы" ng-disabled="!!$c.data['$строка тмц/на базу']['количество']" class000="red-text text-darken-3" >
      </div>
      
      
      <h5 class="red-text text-darken-3">Примечание</h5>
      <div class="input-field">
        <textarea ng-model="$c.data['$строка тмц/с базы']['коммент']" class="materialize-textarea fs8" style="font-size:0.8rem; padding:0; min-height: 2rem;"></textarea>
      </div>
    </div></div></div>
  
    <div class="col s12 m4"><div class="card green lighten-4"><div class="card-content">
      <div class="grey-text fs8 right" style-000="position: absolute; z-index: 1; top:0; right:0;" title="ид строки тмц">{{ $c.data['$строка тмц/на базу'].id }}</div>
      <h4 class="leaf green darken-4 white-text fw500">
        <i class="material-icons ">add_circle_outline</i>
        На базу/другой объект
      </h4>
      <object-address data-data=" $c.data['$строка тмц/на базу']['$объект'] " data-param="{'placeholder': 'указать базу/объект', 'без проекта000': true,}" data-on-focus=" $c.OnFocusBase1(ctrl) " class="block row"></object-address>
      <!-- a class="btn-flat green-text">На базу (в приход)</a-->
      <h4 class="green-text text-darken-4">Количество <span class="white-text fs8">(в приход с закупки)</span></h4>
      <div class="input-field row">
        <a ng-hide="!$c.data['$строка тмц/на базу']['количество']" ng-click="$c.data['$строка тмц/на базу']['количество']= undefined " href="javascript:" class="remove-siblings" style="right: 0; position: absolute; z-index: 1; top:0.2rem;">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="red-fill fill-lighten-3" style="height: 1.5rem;"><use xlink:href="/fonts/icons.svg#cancel"></use></svg>
      </a>
        <input type="text" ng-model="$c.data['$строка тмц/на базу']['количество']" placeholder="отправлено на базу от поставщика" ng-disabled="!$c.data['$строка тмц/поставщик']['количество'] || !!$c.data['$строка тмц/с базы']['количество']" class000="green-text text-darken-4" >
      </div>
      
      
      <h5 class="green-text text-darken-4">Примечание</h5>
      <div class="input-field">
        <textarea ng-model="$c.data['$строка тмц/на базу']['коммент']" class="materialize-textarea fs8" style="font-size:0.8rem; padding:0; min-height: 2rem;"></textarea>
      </div>
    </div></div></div>
  
  </div><!-- row -->
  
  <div ng-show="$c.error" class="red-text">{{ $c.error }}</div>
  <div ng-show="$c.cancelerHttp" ng-include=" 'progress/save' "></div>
  
</div> <!--card-content -->
<div ng-hide="$c.cancelerHttp" class="card-action center">
  <!--span ng-hide="$c.Valid()" class="red-text text-lighten-3 right">для сохранения введите поля<sup class="chip red white-text" style="padding:0.5rem;" /></span-->
  <a class="btn" ng-click="$c.Save()" href="javascript:" ng-disabled="!$c.Valid()">
    <i class="material-icons">save</i>
    <span>Сохранить</span>
  </a>
  
  <a ng-if="$c.data['$строка тмц/поставщик'].id || $c.data['$строка тмц/с базы'].id" class="btn red lighten-2" href="javascript:" data-target="delete-confirm" >
  <i class="material-icons">delete</i>
  <span>Удалить</span>
</a>
  
</div><!-- card-action -->
</div> <!--card -->
  
<!-- Modal Structure -->
<div id="delete-confirm" class="card modal" data-noOverlay="1" style="top: 50%;">
  <div class="modal-content">
    <h3 class="center">Уверены удалить закупку целиком?</h3>
    <!--p class="center fs14"></p-->
  </div>
  <div class="modal-footer">
    
    <a ng-click="$c.Delete()" href="javascript:" class="modal-action modal-close  btn-flat green-text z-depth-1">Да</a>
    <a href="javascript:" class="modal-action modal-close  btn-flat red-text left z-depth-1">Отмена</a>
    
  </div>
</div>
