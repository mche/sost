@@@ tmc/snab/table/tmc

<div ng-if="$c.ready" class="relative animated000 slideInRight000">
  <!--div  class="padd-0-05 lime darken-4" style="position: absolute; z-index: 1; left:-0.5rem; top:-0.5rem; border-radius: 0 0 0.5rem 0; z-index:1;" title="всего позиций">
    <span ng-init="filtered = $c.dataFiltered.length" class="white-text">{{ filtered }}</span>
    <span ng-init="total = $c.data.length" ng-hide=" filtered == total " class="white-text"> из {{ total }}</span>
  </div--->
  
  <!--div ng-if="!$c.param['без принятия']" ng-init="accepted = $c.data.filter($c.FilterDataAccepted).length" class="padd-0-05 red darken-3" style="position: absolute; z-index: 1; right:-0.5rem; top:-0.5rem; border-radius: 0 0 0 0.5rem;" title="принято позиций">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" class="white-fill" style="height: 1rem;"><use xlink:href="/fonts/icons.svg#checked1"></use></svg>
    <span class="white-text">{{ accepted }}</span>
  </div-->
  
<table ng-init="$c.InitTable()" class="top bordered">
<tbody><!---| filter: $c.FilterData --->
  <tr ng-repeat="row in $c.dataFiltered  | orderBy : 'id' " ng-init="$c.InitRow(row)" title="позиция №{{ $index+1 }}"><!-- -->
    <td style="width: 1%; border-right:1px solid #aaa" class="middle center relative "  title000="{000{ row['$дата1'] | json }}">
      <div>{{ $index+1 }}</div>
      <!--div class="fs7 grey-text rotate90right" style="position: absolute; bottom:1rem; right:-0.5rem;" title="{{ row | json }}">#{{ row.id }}</div-->
    </td >

    <td class="middle000 right-align000" style000="width: 50%;">
      <h5 ng-if=" Util.IsType(row['номенклатура'], 'array') "><span ng-repeat="n in row['номенклатура'] track by $index" class="breadcrumb"><span class="chip000 border000">{{n}}</span></span></h5>
      <h5 ng-if="row['$номенклатура'] || Util.IsType(row['номенклатура'], 'object') "><span ng-repeat="n in (row['$номенклатура'] || row['номенклатура']).parents_title track by $index" class="breadcrumb"><span class="chip000 border000">{{n}}</span></span><span class="breadcrumb">{{ (row['$номенклатура'] || row['номенклатура']).title }}</span></h5>
      <div ng-if="row['$тмц/заявка']" class="fs8 grey-text">{{ row['$тмц/заявка']['наименование'] }}</div>
    </td>
    
    <td class="middle center" style="width: 1%;" >
      <div class="chip padd-0-05-000 shadow-inset-10-000 nowrap fs14 bold text-darken-3" title="количество" ng-class-000="{'green-text': !!row['количество/принято'] && !row['на объект/id'], 'blue-text': !!row['количество/принято'] && !!row['на объект/id'] }" style="padding-right: 0.77rem; line-height: 1.7rem;">{{ parseFloat(Util.numeric(row["количество"])).toLocaleString('ru-RU') }}</div>
      <div ng-hide="!row['цена']" class="nowrap grey-text" title="цена"><span class="left">ц. </span> {{ parseFloat(Util.numeric(row["цена"])).toLocaleString('ru-RU') }} <span class="grey-text fs8">₽</span></div>
      <div ng-hide="!row['цена']" class="nowrap grey-text fs7 tborder" title="сумма">
        <span class="left">Σ </span>   <span class="bold">{{ (parseFloat(Util.numeric(row["количество"])) * parseFloat(Util.numeric(row["цена"]))).toLocaleString('ru-RU') }}</span> <span class="">₽</span>
      </div> 
    </td>
    <!--td style="width: 1%;">
      <div class="fs12"><!--ед >&nbsp;</div>
      <div class="grey-text">₽</div>
      <div class="grey-text">₽</div>
    </td-->
    
    <td ng-if-000="row.hasOwnProperty('$объект') && (!$c.param.hasOwnProperty('объект') || $c.param['объект'].id !=  row['$объект'].id) " class="relative" style="width: 1%;">
      
        <!--textarea ng-model="row['коммент']" ng-disabled="true" class="materialize-textarea" style="font-size:0.8rem; padding:0;"></textarea-->
      <div class="fs8 truncate" style="width: 15rem;" title="{{ row['коммент'] }}">{{ row['коммент'] }}</div>
      
      <!--div class="pre">{{ row | json }}</div-->
      <div class="fs7 grey-text" style="position: absolute; z-index: 1; bottom:0; right:0;" title="{{ row | json }}">#{{ row.id }}</div>
      
      <h5 ng-show=" row['$объект'] && row['$объект'].name " class="chip orange-text text-darken-4 fw500" title="на объект" style-000="width: 15rem;">
        <svg  xmlns="http://www.w3.org/2000/svg" viewBox="0 0 26 26" class="orange-fill fill-darken-4" style="height: 1.2rem;"><use xlink:href="/fonts/icons.svg#to-location" /></svg>
        <span class="">★ {{ row["$объект"].name }}</span>
      </h5>
      <h6 ng-show="row['$профиль заказчика']" class="black-text" title="по заявке">
        <span class="chip shadow-inset-10 fs8" title="заявка-заказчик">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" class=""  style="height: 1rem;"><use xlink:href="/fonts/icons.svg#person" /></svg>
          <span>{{ row['$профиль заказчика'].names.join(' ') }}</span>
        </span>
        
        <br><span class="fs7 grey-text">заявка на </span>
        
        <span class="chip" style="padding: 0 0.5rem;" title="заявка на дату {{ row['дата1'] || row['$тмц/заявка'] && row['$тмц/заявка']['дата1'] }}">
          <span class="fs8"> {{ (row['$дата1'] && row['$дата1']['день нед']) || (row['$тмц/заявка'] && row['$тмц/заявка']['$дата1'] && row['$тмц/заявка']['$дата1']['день нед']) }} </span><!--- || (row['$ts'] && row['$ts']['день нед']) -->
          <!--br-->
          <span class="bold"> {{ (row['$дата1'] && row['$дата1']['day']) || (row['$тмц/заявка'] && row['$тмц/заявка']['$дата1'] && row['$тмц/заявка']['$дата1']['day'])  }} </span><!---  || (row['$ts'] && row['$ts']['day'])-->
          <!--br-->
          <span class="fs8"> {{ (row['$дата1'] && row['$дата1']['мес']) || (row['$тмц/заявка'] && row['$тмц/заявка']['$дата1'] && row['$тмц/заявка']['$дата1']['мес'])   }} </span><!--- || (row['$ts'] && row['$ts']['мес']) -->
        </span>
        
        <span ng-if="row['$тмц/заявка']" class="fs7 grey-text" style-000="position: absolute; z-index: 1; bottom:0; right:0;" title="{{ row['$тмц/заявка'] | json }}">#{{ row['$тмц/заявка'].id }}</span>
        
      </h6>
    </td>
    
    <!--td  class="middle000 relative" style="width: 13rem;"-->
      <!--- принятая позиция --->
      <!--div ng-if="row.hasOwnProperty('крыжик количества') || row['количество/принято']" class="input-field chip red-000-lighten-3 shadow-inset-10" style="" title="позиция принята получателем">
        <input ng-if="row.hasOwnProperty('крыжик количества') && (!row['дата/принято/часов'] || row['дата/принято/часов'] < 24)" type="checkbox" ng-model="row['крыжик количества']" ng-attr-id="{{ 'tmcOK'+row.id }}" ng-change="$c.OnAccept(row)"  class="hide000" >
        <label  for="tmcOK{{row.id}}" class="nowrap hover-shadow3d text-darken-4 " ng-class="{'before-white-000': !row['крыжик количества'], 'green-text before-green-lighten-4': !row['на объект/id'], 'blue-text before-blue-lighten-4': !!row['на объект/id'] }" style="" title="{{ row['крыжик количества'] ? 'отменить прием' : 'принять' }} ТМЦ">
          <svg ng-show=" (!row.hasOwnProperty('крыжик количества') ||  (!row['дата/принято/часов'] || row['дата/принято/часов'] >= 24)) && !!row['количество/принято']" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" class="red-fill fill-darken-3" ng-class-000="{'green-fill': !row['на объект/id'], 'blue-fill': !!row['на объект/id'] }" style="height: 1.5rem;"><use xlink:href="/fonts/icons.svg#checked1"></use></svg>
          <span ng-show="!row['количество/принято'] && row.hasOwnProperty('крыжик количества')">Принять ТМЦ</span>
          <span ng-show="!row['списать'] && row['количество/принято']" class="red-text-darken-3" ng-class-000="{'red-text-darken-3': row.hasOwnProperty('крыжик количества')}">Получено</span>
          <span ng-show="row['количество/принято'] && row['списать'] && !($c.doc && $c.doc['$на объект'] && $c.doc['$на объект'].id)" class="red-text-darken-3">Списано</span>
          <span ng-hide="!row['количество/принято']" class="center chip padd-0-05 white red-text text-darken-3 z-depth-1 fs10" ng-class-000="{'green-text': !row['на объект/id'], 'blue-text': !!row['на объект/id'] }" style="padding:0 0.3rem;" title="дата приема {{ row['$дата/принято']['day']+' '+row['$дата/принято']['месяц']+' '+row['$дата/принято']['year']+' '+row['$дата/принято']['hour']+':'+row['$дата/принято']['minute'] }}">
            <span class="fs8 ">{{ row['$дата/принято']['день нед'] }}</span>   <span class="bold">{{ row['$дата/принято']['day'] }}</span>  <span class="fs8">{{ row['$дата/принято']['мес'] }}</span>
            
          </span>
        </label>
        <h5 ng-show="row['количество/принято'] && row['$принял']" class="chip padd-0-05 transparent nowrap" style="" title="кто принял">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" class="red-fill fill-darken-3" ng-class-000="{'green-fill': !row['на объект/id'], 'blue-fill': !!row['на объект/id'] }" style="height: 1rem;"><use xlink:href="/fonts/icons.svg#person" /></svg>
            <span class="fs8 red-text text-darken-4" ng-class-000="{'green-text': !row['на объект/id'], 'blue-text': !!row['на объект/id'] }">{{ row['$принял'].names.join(' ') }}</span>
          </h5>
      </div-->
      
    <!--/td-->
  </tr>
</tbody></table>
</div>